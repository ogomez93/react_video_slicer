{"version":3,"sources":["serviceWorker.js","videos/reducer.js","videos/constants/index.js","videos/constants/initialState.js","videos/actionTypes.js","filters/reducer.js","filters/actionTypes.js","rootReducer.js","videos/components/DeleteItemDialog/index.js","videos/actions.js","videos/utils/index.js","videos/components/ClipForm/utils/validations.js","videos/components/ClipForm/index.js","videos/components/EditItemDialog/EditItemDialog.js","videos/components/EditItemDialog/index.js","videos/components/EditItemDialog/utils/handlers.js","videos/components/PlayPauseButton/index.js","videos/components/PauseButton/index.js","videos/components/PlayButton/index.js","videos/components/ClipItem/ClipItem.js","videos/components/ClipItem/utils/withMenuState.js","videos/components/ClipItem/utils/withDialogsState.js","videos/components/ClipItem/index.js","videos/components/ClipItem/utils/menuHandler.js","videos/components/ClipItem/utils/dialogsHandlers.js","videos/components/ClipList/FullVideo.js","videos/components/ClipList/NoVisibleClips.js","videos/components/ClipList/ClipList.js","videos/components/ClipList/LoadingVideo.js","videos/selectors/utils/filteredClips.js","videos/selectors/index.js","videos/selectors/selectors.js","filters/selectors/selectors.js","videos/components/ClipList/index.js","videos/components/NewClip/NewClip.js","videos/components/AddClipForm/index.js","videos/components/AddClipForm/utils/handlers.js","videos/components/NewClip/utils/withIsAddingState.js","videos/components/NewClip/index.js","videos/components/NewClip/utils/isAddingStateHandler.js","videos/components/SearchBar/SearchBar.js","videos/components/SearchBar/utils/withDisabledProp.js","videos/components/SearchBar/utils/withFilters.js","videos/components/SearchBar/utils/handlers.js","videos/components/SearchBar/index.js","filters/actions.js","videos/components/VideoInfo/index.js","videos/components/VideoPlayer/VideoPlayer.js","videos/components/VideoPlayer/utils/withMediaFragment.js","videos/components/VideoPlayer/utils/withModifiedUrl.js","videos/components/VideoPlayer/index.js","videos/components/Main/Main.js","videos/components/Main/utils/withMainState.js","videos/components/Main/utils/withMainHandlers.js","videos/components/Main/index.js","App.js","index.js"],"names":["Boolean","window","location","hostname","match","clips","video","TIME_PRECISION","initialState","duration","loading","paused","videoUrl","setVideo","videos","index","arguments","length","undefined","_ref","payload","type","videoIndex","Object","assign","defineProperty","objectSpread","toConsumableArray","concat","clip","clipIndex","slice","filters","state","action","nameFilter","tagFilter","rootReducer","combineReducers","DeleteItemDialog","dialogDescription","dialogTitle","end","name","start","onClose","deleteItem","react_default","a","createElement","react","DialogTitle_default","id","DialogContent_default","DialogContentText_default","DialogActions_default","Button_default","onClick","color","addClip","editClip","clipChange","pauseVideo","playVideo","formatToTime","number","formatDuration","timeInSeconds","fixedTimeInSeconds","parseFloat","toFixed","formatTime","percentage","isNaN","time","minutes","parseInt","seconds","percentageToSeconds","clipErrors","errors","nameIsValid","timeIsValid","ClipForm","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleTextChange","_this$setState","_ref$target","target","value","setState","handleStartChange","_","handleEndChange","onFocus","event","select","onSubmit","preventDefault","_this$props","dispatch","onCancel","keys","tag","_this$props2","classes","_this$props2$clipInde","_this$props2$videoInd","_this$state","clipindex","videoindex","Grid_default","container","spacing","item","xs","sm","TextField_default","className","textField","error","label","margin","onChange","required","lastTextField","Typography_default","Slider_default","slider","aria-labelledby","min","max","direction","justify","alignItems","button","Component","compose","withStyles","theme","unit","mixins","gutters","width","display","backgroundColor","padding","marginBottom","connect","dialogContent","overflow","components_ClipForm","withHandlers","closeEditing","closeMenu","EditItemDialog","PlayPauseButton","Icon","IconButton_default","aria-label","withProps","PauseIcon","PlayArrowIcon","selected","setClip","ClipItem","deleting","editing","anchorEl","openMenu","openEditing","openDeleting","closeDeleting","Divider_default","component","ListItem_default","title","ListItemIcon_default","PauseButton","PlayButton","ListItemText_default","primary","secondary","ListItemSecondaryAction_default","aria-owns","aria-haspopup","MoreVert_default","Menu_default","open","MenuItem_default","Dialog_default","aria-describedby","components_DeleteItemDialog","components_EditItemDialog","withState","withEditDialogState","withDeleteDialogState","components_ClipItem","withMenuState","setAnchorEl","_ref2","currentTarget","setEditing","_ref3","setDeleting","_ref4","setFullVideo","removeClip","FullVideo","_ref$video","secondaryTypographyProps","noWrap","loadingVideo","variant","list","_ref$video$clips","visibleClips","List_default","ClipList_FullVideo","ClipList_NoVisibleClips","map","key","valueMatchesFilter","filter","toLowerCase","trim","includes","filteredClips","getClips","createSelector","_ref6","_ref7","_ref6$videos","_ref7$videoIndex","branch","renderComponent","LoadingVideo","ClipList","rightIcon","marginLeft","hidden","opacity","setAdding","disabled","Add_default","setNotAdding","withIsAddingState","setIsAdding","isAdding","AddClipForm","NewClip","onNameChange","onTagChange","onReset","autoComplete","withName","withTag","onFilterChange","setFilter","_ref$target$value","withDisabledProp","setName","setTag","setClipIndex","setFilters","SearchBar","VideoInfo","_ref$video$videoUrl","gutterBottom","VideoPlayer","formatToFixed","fromPercentageToSeconds","getVideo","videoRef","current","getCurrentTime","currentTime","videoPaused","onTimeUpdate","pause","play","startTime","endTime","createRef","prevProps","prevPaused","thisPaused","onLoadedMetadata","onPause","onPlay","url","ref","videoPlayer","controls","preload","src","nextProps","prevState","mediaFragment","mediaFragmentStart","mediaFragmentEnd","components_VideoPlayer","_ref10","_ref11","_ref10$videos","_ref11$videoIndex","_ref11$clipIndex","getSelectedClip","setDuration","withMediaFragment","withModifiedUrl","root","flexGrow","height","paper","textAlign","palette","text","listPaper","flexDirection","clipsList","flex","sectionDivider","marginTop","columnContainer","breakpoints","up","newClipContainer","justifyContent","down","flexBasis","md","Paper_default","components_VideoInfo","components_NewClip","components_SearchBar","components_ClipList","withSelectedClip","withSelectedVideo","currentClipIndex","getAttribute","_ref$videos","_ref2$videoIndex","getSelectedVideo","Main","App","CssBaseline_default","components_Main","__webpack_require__","d","__webpack_exports__","store","configureStore","devTools","reducer","ReactDOM","render","es","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4fce089a.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {\r\n  ADD_CLIP,\r\n  EDIT_CLIP,\r\n  REMOVE_CLIP,\r\n  SET_DURATION,\r\n  CLIP_CHANGE,\r\n  PAUSE_VIDEO,\r\n  PLAY_VIDEO\r\n} from './actionTypes';\r\n\r\nimport initialState from './constants/initialState';\r\n\r\nconst setVideo = (videos, index) => videos[index];\r\n\r\nlet clips, video;\r\n\r\nconst videos = (videos = initialState, { payload, type }) => {\r\n  switch (type) {\r\n    case ADD_CLIP:\r\n      video = setVideo(videos, payload.videoIndex);\r\n      ({ clips } = video);\r\n      return Object.assign([], videos, {\r\n        [payload.videoIndex]: {\r\n          ...video,\r\n          clips: [\r\n            ...clips,\r\n            payload.clip\r\n          ]\r\n        }\r\n      });\r\n\r\n    case EDIT_CLIP:\r\n      video = setVideo(videos, payload.videoIndex);\r\n      ({ clips } = video);\r\n      return Object.assign([], videos, {\r\n        [payload.videoIndex]: {\r\n          ...video,\r\n          clips: Object.assign([], clips, {\r\n            [payload.clipIndex]: payload.clip\r\n          })\r\n        }\r\n      });\r\n\r\n    case REMOVE_CLIP:\r\n      video = setVideo(videos, payload.videoIndex);\r\n      ({ clips } = video);\r\n      return Object.assign([], videos, {\r\n        [payload.videoIndex]: {\r\n          ...video,\r\n          clips:\r\n            clips\r\n              .slice(0, payload.clipIndex)\r\n              .concat(clips.slice(payload.clipIndex + 1))\r\n        }\r\n      });\r\n\r\n    case SET_DURATION:\r\n      video = setVideo(videos, payload.videoIndex);\r\n      return Object.assign([], videos, {\r\n        [payload.videoIndex]: {\r\n          ...video,\r\n          duration: payload.duration,\r\n          loading: false\r\n        }\r\n      });\r\n\r\n    case CLIP_CHANGE:\r\n      video = setVideo(videos, payload.videoIndex);\r\n      return Object.assign([], videos, {\r\n        [payload.videoIndex]: {\r\n          ...video,\r\n          loading: true,\r\n          paused: true\r\n        }\r\n      });\r\n\r\n    case PAUSE_VIDEO:\r\n      video = setVideo(videos, payload.videoIndex);\r\n      return Object.assign([], videos, {\r\n        [payload.videoIndex]: {\r\n          ...video,\r\n          paused: true\r\n        }\r\n      });\r\n\r\n    case PLAY_VIDEO:\r\n      video = setVideo(videos, payload.videoIndex);\r\n      return Object.assign([], videos, {\r\n        [payload.videoIndex]: {\r\n          ...video,\r\n          paused: false\r\n        }\r\n      });\r\n\r\n    default:\r\n      return { ...videos };\r\n  }\r\n};\r\n\r\nexport default videos;\r\n","export const DEFAULT_VIDEO_URL = 'https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4';\r\nexport const TIME_PRECISION = 6;\r\n","import { DEFAULT_VIDEO_URL } from './index';\r\n\r\nexport default [\r\n  {\r\n    duration: 0,\r\n    clips: [],\r\n    loading: true,\r\n    paused: true,\r\n    videoUrl: DEFAULT_VIDEO_URL\r\n  }\r\n];\r\n","export const ADD_CLIP = 'videos/ADD_CLIP';\r\nexport const EDIT_CLIP = 'videos/EDIT_CLIP';\r\nexport const REMOVE_CLIP = 'videos/REMOVE_CLIP';\r\nexport const SET_DURATION = 'videos/SET_DURATION';\r\nexport const CLIP_CHANGE = 'videos/CLIP_CHANGE';\r\nexport const PAUSE_VIDEO = 'videos/PAUSE_VIDEO';\r\nexport const PLAY_VIDEO = 'videos/PLAY_VIDEO';\r\n","import { EMPTY_FILTERS, SET_FILTERS } from './actionTypes';\r\n\r\nimport initialState from './constants/initialState';\r\n\r\nconst filters = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case EMPTY_FILTERS:\r\n      return {\r\n        ...state,\r\n        nameFilter: '',\r\n        tagFilter: ''\r\n      }\r\n\r\n    case SET_FILTERS:\r\n      return {\r\n        ...state,\r\n        nameFilter: action.payload.nameFilter,\r\n        tagFilter: action.payload.tagFilter\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default filters;\r\n","export const EMPTY_FILTERS = 'filters/EMPTY_FILTERS';\r\nexport const SET_FILTERS = 'filters/SET_FILTERS';\r\n","import { combineReducers } from 'redux';\r\n\r\nimport videos from 'videos/reducer';\r\nimport filters from 'filters/reducer';\r\n\r\nconst rootReducer = combineReducers({ filters, videos });\r\n\r\nexport default rootReducer;\r\n","import React, { Fragment } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nconst DeleteItemDialog = ({\r\n  dialogDescription,\r\n  dialogTitle,\r\n  end,\r\n  name,\r\n  start,\r\n  onClose,\r\n  deleteItem\r\n}) => (\r\n  <Fragment>\r\n    <DialogTitle id={dialogTitle}>\r\n      Are you sure you want to delete this clip?\r\n    </DialogTitle>\r\n    <DialogContent>\r\n      <DialogContentText id={dialogDescription}>\r\n        {`Name: '${name}', from ${start} to ${end}`}\r\n      </DialogContentText>\r\n    </DialogContent>\r\n    <DialogActions>\r\n      <Button onClick={onClose} color=\"primary\">\r\n        Cancel\r\n      </Button>\r\n      <Button onClick={deleteItem} color=\"secondary\">\r\n        Delete\r\n      </Button>\r\n    </DialogActions>\r\n  </Fragment>\r\n);\r\n\r\nexport default DeleteItemDialog\r\n","import {\r\n  ADD_CLIP,\r\n  EDIT_CLIP,\r\n  REMOVE_CLIP,\r\n  SET_DURATION,\r\n  CLIP_CHANGE,\r\n  PAUSE_VIDEO,\r\n  PLAY_VIDEO\r\n} from './actionTypes';\r\n\r\nexport const addClip = (clip, videoIndex) => ({\r\n  type: ADD_CLIP,\r\n  payload: {\r\n    clip,\r\n    videoIndex\r\n  }\r\n});\r\n\r\nexport const editClip = (clip, clipIndex, videoIndex) => ({\r\n  type: EDIT_CLIP,\r\n  payload: {\r\n    clip,\r\n    clipIndex,\r\n    videoIndex\r\n  }\r\n});\r\n\r\nexport const removeClip = (clipIndex, videoIndex) => ({\r\n  type: REMOVE_CLIP,\r\n  payload: {\r\n    clipIndex,\r\n    videoIndex\r\n  }\r\n});\r\n\r\nexport const setDuration = (duration, videoIndex) => ({\r\n  type: SET_DURATION,\r\n  payload: {\r\n    duration,\r\n    videoIndex\r\n  }\r\n});\r\n\r\nexport const clipChange = videoIndex => ({\r\n  type: CLIP_CHANGE,\r\n  payload: {\r\n    videoIndex\r\n  }\r\n});\r\n\r\nexport const pauseVideo = videoIndex => ({\r\n  type: PAUSE_VIDEO,\r\n  payload: {\r\n    videoIndex\r\n  }\r\n});\r\n\r\nexport const playVideo = videoIndex => ({\r\n  type: PLAY_VIDEO,\r\n  payload: {\r\n    videoIndex\r\n  }\r\n});\r\n","import { TIME_PRECISION } from 'videos/constants';\r\n\r\nconst fixNumber = number => parseFloat(number.toFixed(TIME_PRECISION));\r\nconst formatToTime = number => number < 10 ? `0${number}` : `${number}`;\r\n\r\nexport const formatDuration = timeInSeconds => {\r\n  const fixedTimeInSeconds = fixNumber(timeInSeconds);\r\n  return fixedTimeInSeconds < 60\r\n    ? `${timeInSeconds} seconds`\r\n    : formatTime(fixedTimeInSeconds);\r\n};\r\n\r\nexport const formatTime = (percentage, duration = 100) => {\r\n  if (isNaN(percentage)) return undefined;\r\n  const time = parseFloat(percentage * duration / 100);\r\n  const minutes = formatToTime(parseInt(time / 60));\r\n  const seconds = formatToTime(parseInt(time % 60));\r\n  return `${minutes}:${seconds}`;\r\n};\r\n\r\nexport const percentageToSeconds = (percentage, duration) =>\r\n  parseFloat(percentage * duration / 100);\r\n","const nameIsValid = name => name !== '';\r\n\r\nconst timeIsValid = (start, end) =>\r\n  start < end &&\r\n  start < 100 &&\r\n  end <= 100;\r\n\r\nexport const clipErrors = ({ name, start, end }) => {\r\n  const errors = {};\r\n  if (!nameIsValid(name)) errors.name = 'The clip must have a name';\r\n  if (!timeIsValid(start, end)) errors.time = 'Invalid time range';\r\n  return errors;\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'recompose';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slider from '@material-ui/lab/Slider';\r\n\r\nimport { addClip, editClip } from 'videos/actions';\r\nimport { formatTime } from 'videos/utils';\r\n\r\nimport { clipErrors } from './utils/validations';\r\n\r\nconst styles = theme => ({\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n  container: {\r\n    ...theme.mixins.gutters(),\r\n    width: '100%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    backgroundColor: 'red',\r\n    padding: theme.spacing.unit * 2\r\n  },\r\n  slider: {\r\n    padding: `${theme.spacing.unit}px 0px`,\r\n  },\r\n  textField: {\r\n    width: '100%',\r\n    margin: 0,\r\n  },\r\n  lastTextField: {\r\n    width: '100%',\r\n    margin: 0,\r\n    marginBottom: theme.spacing.unit\r\n  }\r\n});\r\n\r\nclass ClipForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      end: props.end || 100,\r\n      name: props.name || '',\r\n      start: props.start || 0,\r\n      tag: props.tag || '',\r\n      errors: { name: '', time: '' }\r\n    }\r\n  }\r\n\r\n  handleTextChange = ({ target: { name, value } }) =>\r\n    this.setState({\r\n      [name]: value,\r\n      errors: {\r\n        [name]: ''\r\n      }\r\n    });\r\n\r\n  handleStartChange = (_, start) => {\r\n    const { end } = this.state;\r\n    if (start >= end) start = end - 1;\r\n    this.setState({ start });\r\n  }\r\n\r\n  handleEndChange = (_, end) => {\r\n    const { start } = this.state;\r\n    if (start >= end) end = start + 1;\r\n    this.setState({ end });\r\n  }\r\n\r\n  onFocus = event => event.target.select();\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const clip = this.state;\r\n    const {\r\n      clipIndex,\r\n      dispatch,\r\n      videoIndex,\r\n      onCancel\r\n    } = this.props;\r\n    const errors = clipErrors(clip);\r\n\r\n    if (Object.keys(errors).length === 0) {\r\n      dispatch(\r\n        isNaN(clipIndex)\r\n          ? addClip(clip, videoIndex)\r\n          : editClip(clip, clipIndex, videoIndex));\r\n      onCancel && onCancel();\r\n    } else {\r\n      this.setState({ errors });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      classes,\r\n      video: { duration },\r\n      clipIndex = '',\r\n      videoIndex = '',\r\n      onCancel,\r\n    } = this.props;\r\n\r\n    const { name, tag, start, end, errors } = this.state;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} clipindex={clipIndex} videoindex={videoIndex}>\r\n        <Grid container spacing={16}>\r\n          <Grid item xs={12} sm={6}>\r\n            <TextField\r\n              id=\"clipName\"\r\n              className={classes.textField}\r\n              error={errors.name !== ''}\r\n              label={errors.name || \"Clip name\"}\r\n              margin=\"normal\"\r\n              name=\"name\"\r\n              onChange={this.handleTextChange}\r\n              onFocus={this.onFocus}\r\n              required\r\n              value={name}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <TextField\r\n              id=\"clipTag\"\r\n              className={classes.lastTextField}\r\n              label=\"Clip tag\"\r\n              margin=\"normal\"\r\n              name=\"tag\"\r\n              onChange={this.handleTextChange}\r\n              onFocus={this.onFocus}\r\n              value={tag}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Typography id=\"startLabel\">\r\n              {`From ${formatTime(start, duration)}`}\r\n            </Typography>\r\n            <Slider\r\n              id=\"clipStart\"\r\n              classes={{ container: classes.slider }}\r\n              aria-labelledby=\"startLabel\"\r\n              min={0}\r\n              max={100}\r\n              name=\"start\"\r\n              onChange={this.handleStartChange}\r\n              value={start}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Typography id=\"endLabel\">\r\n              {`To ${formatTime(end, duration)}`}\r\n            </Typography>\r\n            <Slider\r\n              id=\"clipEnd\"\r\n              classes={{ container: classes.slider }}\r\n              aria-labelledby=\"endLabel\"\r\n              min={0}\r\n              max={100}\r\n              name=\"end\"\r\n              onChange={this.handleEndChange}\r\n              value={end}\r\n            />\r\n          </Grid>\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"flex-end\"\r\n            alignItems=\"flex-end\"\r\n          >\r\n            <Button\r\n              className={classes.button}\r\n              onClick={onCancel}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              className={classes.button}\r\n              color=\"primary\"\r\n              type=\"submit\"\r\n              onClick={this.onSubmit}\r\n            >\r\n              Save\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  connect()\r\n)(ClipForm);\r\n","import React, { Fragment } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport ClipForm from 'videos/components/ClipForm';\r\n\r\nconst styles = () => ({\r\n  dialogContent: {\r\n    overflow: 'hidden'\r\n  }\r\n});\r\n\r\nconst EditItemDialog = ({\r\n  classes,\r\n  dialogTitle,\r\n  end,\r\n  name,\r\n  start,\r\n  clipIndex,\r\n  videoIndex,\r\n  video,\r\n  onCancel\r\n}) => (\r\n  <Fragment>\r\n    <DialogTitle id={dialogTitle}>\r\n      Editing clip\r\n    </DialogTitle>\r\n    <DialogContent className={classes.dialogContent}>\r\n      <ClipForm\r\n        end={end}\r\n        name={name}\r\n        start={start}\r\n        video={video}\r\n        clipIndex={clipIndex}\r\n        videoIndex={videoIndex}\r\n        onCancel={onCancel}\r\n      />\r\n    </DialogContent>\r\n  </Fragment>\r\n);\r\n\r\nexport default withStyles(styles)(EditItemDialog);\r\n","import { compose, withHandlers } from 'recompose';\r\n\r\nimport EditItemDialog from './EditItemDialog';\r\n\r\nimport { onCancel } from './utils/handlers';\r\n\r\nexport default compose(\r\n  withHandlers({ onCancel })\r\n)(EditItemDialog);\r\n","export const onCancel = ({ closeEditing, closeMenu }) => () => {\r\n  closeEditing && closeEditing();\r\n  closeMenu && closeMenu();\r\n};\r\n","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nconst PlayPauseButton = ({ clipIndex, Icon, label, onClick }) => (\r\n  <IconButton aria-label={label} clipindex={clipIndex} onClick={onClick}>\r\n    <Icon />\r\n  </IconButton>\r\n);\r\n\r\nexport default PlayPauseButton;\r\n","import { connect } from 'react-redux';\r\nimport { compose, withProps } from 'recompose';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\n\r\nimport PlayPauseButton from 'videos/components/PlayPauseButton';\r\n\r\nimport { pauseVideo } from 'videos/actions';\r\n\r\nconst onClick = (dispatch, { videoIndex }) => () =>\r\n  dispatch(pauseVideo(videoIndex));\r\n\r\nconst mapDispatchToProps = (dispatch, props) => ({\r\n  onClick: onClick(dispatch, props)\r\n});\r\n\r\nexport default compose(\r\n  withProps({ label: 'Pause', Icon: PauseIcon }),\r\n  connect(null, mapDispatchToProps)\r\n)(PlayPauseButton);\r\n","import { connect } from 'react-redux';\r\nimport { compose, withProps } from 'recompose';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\n\r\nimport PlayPauseButton from 'videos/components/PlayPauseButton';\r\n\r\nimport { playVideo } from 'videos/actions';\r\n\r\nconst onClick = (dispatch, { videoIndex }) => () =>\r\n  dispatch(playVideo(videoIndex));\r\n\r\nconst mapDispatchToProps = (dispatch, props) => ({\r\n  onClick: props.selected\r\n    ? onClick(dispatch, props)\r\n    : props.setClip\r\n});\r\n\r\nexport default compose(\r\n  withProps({ label: 'Play', Icon: PlayArrowIcon }),\r\n  connect(null, mapDispatchToProps)\r\n)(PlayPauseButton);\r\n","import React, { Fragment } from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\n\r\nimport DeleteItemDialog from 'videos/components/DeleteItemDialog';\r\nimport EditItemDialog from 'videos/components/EditItemDialog';\r\nimport PauseButton from 'videos/components/PauseButton';\r\nimport PlayButton from 'videos/components/PlayButton';\r\n\r\nimport { formatTime } from 'videos/utils';\r\n\r\nconst ClipItem = ({\r\n  name,\r\n  start,\r\n  end,\r\n  video,\r\n  clipIndex,\r\n  videoIndex,\r\n  selected,\r\n  setClip,\r\n  deleting,\r\n  editing,\r\n  anchorEl,\r\n  openMenu,\r\n  closeMenu,\r\n  deleteItem,\r\n  openEditing,\r\n  closeEditing,\r\n  openDeleting,\r\n  closeDeleting\r\n}) => (\r\n  <Fragment>\r\n    <Divider component=\"li\" />\r\n    <ListItem title={`Play ${name}`} button component=\"a\" selected={selected}>\r\n      <ListItemIcon>\r\n        {selected && !video.paused\r\n          ? <PauseButton\r\n              clipIndex={clipIndex}\r\n              selected={selected}\r\n              setClip={setClip}\r\n              videoIndex={videoIndex}\r\n            />\r\n          : <PlayButton\r\n              clipIndex={clipIndex}\r\n              selected={selected}\r\n              setClip={setClip}\r\n              videoIndex={videoIndex}\r\n            />\r\n        }\r\n      </ListItemIcon>\r\n      <ListItemText\r\n        primary={name}\r\n        secondary={`${formatTime(start, video.duration)} - ${formatTime(end, video.duration)}`}\r\n        onClick={setClip}\r\n        clipindex={clipIndex}\r\n      />\r\n      <ListItemSecondaryAction title={`${name} options`}>\r\n        <IconButton\r\n          aria-label=\"More\"\r\n          aria-owns={anchorEl ? 'clipMenu' : undefined}\r\n          aria-haspopup=\"true\"\r\n          onClick={openMenu}\r\n        >\r\n          <MoreVertIcon />\r\n        </IconButton>\r\n      </ListItemSecondaryAction>\r\n      <Menu\r\n        id=\"clipMenu\"\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={closeMenu}\r\n      >\r\n        <MenuItem onClick={openEditing}>Edit</MenuItem>\r\n        <MenuItem onClick={openDeleting} color=\"secondary\">\r\n          <Typography color=\"secondary\">\r\n            Delete\r\n          </Typography>\r\n        </MenuItem>\r\n      </Menu>\r\n      <Dialog\r\n        open={deleting}\r\n        onClose={closeDeleting}\r\n        aria-labelledby=\"deleteClipDialog\"\r\n        aria-describedby=\"deleteClipDialogDescription\"\r\n      >\r\n        <DeleteItemDialog\r\n          dialogTitle=\"deleteClipDialog\"\r\n          dialogDescription=\"deleteClipDialogDescription\"\r\n          end={end}\r\n          name={name}\r\n          start={start}\r\n          onClose={closeDeleting}\r\n          deleteItem={deleteItem}\r\n        />\r\n      </Dialog>\r\n      <Dialog\r\n        open={editing}\r\n        onClose={closeEditing}\r\n        aria-labelledby=\"editClipDialog\"\r\n      >\r\n        <EditItemDialog\r\n          dialogTitle=\"editClipDialog\"\r\n          end={end}\r\n          name={name}\r\n          start={start}\r\n          video={video}\r\n          clipIndex={clipIndex}\r\n          videoIndex={videoIndex}\r\n          closeEditing={closeEditing}\r\n          closeMenu={closeMenu}\r\n        />\r\n      </Dialog>\r\n    </ListItem>\r\n  </Fragment>\r\n);\r\n\r\nexport default ClipItem;\r\n","import { withState } from 'recompose';\r\n\r\nexport default withState('anchorEl', 'setAnchorEl', false);\r\n","import { withState } from 'recompose';\r\n\r\nexport const withEditDialogState = withState('editing', 'setEditing', false);\r\nexport const withDeleteDialogState = withState('deleting', 'setDeleting', false);\r\n","import { connect } from 'react-redux';\r\nimport { compose, withHandlers } from 'recompose';\r\n\r\nimport ClipItem from './ClipItem';\r\n\r\nimport { removeClip } from 'videos/actions';\r\n\r\nimport withMenuState from './utils/withMenuState';\r\nimport { closeMenu, openMenu } from './utils/menuHandler';\r\nimport {\r\n  withDeleteDialogState,\r\n  withEditDialogState\r\n} from './utils/withDialogsState';\r\nimport {\r\n  openEditing,\r\n  closeEditing,\r\n  openDeleting,\r\n  closeDeleting\r\n} from './utils/dialogsHandlers';\r\n\r\nconst mapDispatchToProps = (dispatch, props) => ({\r\n  deleteItem: () => {\r\n    const {\r\n      closeMenu,\r\n      closeDeleting,\r\n      clipIndex,\r\n      setFullVideo,\r\n      videoIndex\r\n    } = props;\r\n    dispatch(removeClip(clipIndex, videoIndex));\r\n    closeDeleting && closeDeleting();\r\n    closeMenu && closeMenu();\r\n    setFullVideo && setFullVideo();\r\n  }\r\n});\r\n\r\nexport default compose(\r\n  withMenuState,\r\n  withDeleteDialogState,\r\n  withEditDialogState,\r\n  withHandlers({\r\n    closeMenu,\r\n    openMenu,\r\n    openEditing,\r\n    closeEditing,\r\n    openDeleting,\r\n    closeDeleting\r\n  }),\r\n  connect(null, mapDispatchToProps)\r\n)(ClipItem);\r\n","export const closeMenu = ({ setAnchorEl }) =>\r\n  () => setAnchorEl(null);\r\n\r\nexport const openMenu = ({ setAnchorEl }) =>\r\n  event => setAnchorEl(event.currentTarget);\r\n","export const openEditing = ({ setEditing }) => () => setEditing(true);\r\nexport const closeEditing = ({ setEditing }) => () => setEditing(false);\r\n\r\nexport const openDeleting = ({ setDeleting }) => () => setDeleting(true);\r\nexport const closeDeleting = ({ setDeleting }) => () => setDeleting(false);\r\n","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\n\r\nimport PauseButton from 'videos/components/PauseButton';\r\nimport PlayButton from 'videos/components/PlayButton';\r\n\r\nimport { formatDuration } from 'videos/utils';\r\n\r\nconst FullVideo = ({\r\n  clipIndex,\r\n  setClip,\r\n  video: { duration, paused, videoUrl },\r\n  videoIndex\r\n}) => (\r\n  <ListItem title=\"Play full video\" selected={clipIndex === -1} button component=\"a\">\r\n    <ListItemText\r\n      primary={`Full video (duration: ${formatDuration(duration)})`}\r\n      secondary={videoUrl}\r\n      secondaryTypographyProps={{\r\n        noWrap: true,\r\n        title: videoUrl\r\n      }}\r\n      clipindex={-1}\r\n      onClick={setClip}\r\n    />\r\n    <ListItemSecondaryAction>\r\n      {clipIndex === -1 && !paused\r\n        ? <PauseButton\r\n            clipIndex={-1}\r\n            selected={clipIndex === -1}\r\n            setClip={setClip}\r\n            videoIndex={videoIndex}\r\n          />\r\n        : <PlayButton\r\n            clipIndex={-1}\r\n            selected={clipIndex === -1}\r\n            setClip={setClip}\r\n            videoIndex={videoIndex}\r\n          />\r\n      }\r\n    </ListItemSecondaryAction>\r\n  </ListItem>\r\n);\r\n\r\nexport default FullVideo;\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = theme => ({\r\n  loadingVideo: {\r\n    margin: theme.spacing.unit * 4,\r\n  }\r\n});\r\n\r\nconst NoVisibleClips = ({ classes }) => (\r\n  <Typography className={classes.loadingVideo} variant=\"subtitle2\">\r\n    No clips match those filters\r\n  </Typography>\r\n);\r\n\r\nexport default withStyles(styles)(NoVisibleClips);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\n\r\nimport ClipItem from 'videos/components/ClipItem';\r\nimport FullVideo from './FullVideo';\r\nimport NoVisibleClips from './NoVisibleClips';\r\n\r\nconst styles = () => ({\r\n  list: {\r\n    overflow: 'auto',\r\n  }\r\n});\r\n\r\nconst ClipList = ({\r\n  classes,\r\n  clipIndex,\r\n  setClip,\r\n  setFullVideo,\r\n  video,\r\n  video: { clips = [], videoUrl, duration, paused },\r\n  videoIndex,\r\n  visibleClips\r\n}) => (\r\n  <List className={classes.list}>\r\n    <FullVideo\r\n      clipIndex={clipIndex}\r\n      setClip={setClip}\r\n      video={video}\r\n      videoIndex={videoIndex}\r\n    />\r\n    {\r\n      clips.length > 0 && visibleClips.length === 0\r\n        ? <NoVisibleClips />\r\n        : visibleClips.map((clip, index) =>\r\n            <ClipItem\r\n              {...clip}\r\n              key={`clip-${index}`}\r\n              clipIndex={index}\r\n              selected={clipIndex === index}\r\n              setClip={setClip}\r\n              setFullVideo={setFullVideo}\r\n              video={{ duration, paused, videoUrl }}\r\n              videoIndex={videoIndex}\r\n            />)\r\n    }\r\n  </List>\r\n);\r\n\r\nexport default withStyles(styles)(ClipList);\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = theme => ({\r\n  loadingVideo: {\r\n    margin: theme.spacing.unit * 4,\r\n  }\r\n});\r\n\r\nconst LoadingVideo = ({ classes }) => (\r\n  <Typography className={classes.loadingVideo} variant=\"subtitle2\">\r\n    Please wait...\r\n  </Typography>\r\n);\r\n\r\nexport default withStyles(styles)(LoadingVideo);\r\n","export const valueMatchesFilter = (value = '', filter = '') =>\r\n  value.toLowerCase().trim().includes(filter.toLowerCase().trim());\r\n\r\nconst filteredClips = (clips, nameFilter, tagFilter) =>\r\n  clips.filter(\r\n    ({ name, tag }) =>\r\n      valueMatchesFilter(name, nameFilter) &&\r\n      valueMatchesFilter(tag, tagFilter)\r\n  );\r\n\r\nexport default filteredClips;","import { createSelector } from 'reselect';\r\n\r\nimport { getSelectedVideoClips } from './selectors';\r\nimport { getNameFilter, getTagFilter } from 'filters/selectors/selectors';\r\n\r\nimport filteredClips from './utils/filteredClips';\r\n\r\nexport const getClips = createSelector(\r\n  [getSelectedVideoClips, getNameFilter, getTagFilter],\r\n  (clips, nameFilter, tagFilter) =>\r\n    filteredClips(clips, nameFilter, tagFilter)\r\n);","export const getSelectedVideo = ( { videos = [{}] }, { videoIndex = 0 } ) =>\r\n  videos[videoIndex];\r\n\r\nexport const getAllVideos = ({ videos = [{}] }) => videos;\r\n\r\nexport const getSelectedVideoIndex = ({ videos = [{}] }, { videoUrl }) =>\r\n  videos.findIndex(currentVideo => currentVideo.videoUrl === videoUrl);\r\n\r\nexport const getSelectedVideoClips = ({ videos = [{}] }, { videoIndex = 0 }) =>\r\n  videos[videoIndex].clips;\r\n\r\nexport const getVideoDuration = (\r\n  { videos = [{}] },\r\n  { videoIndex = 0 }\r\n) => videos[videoIndex].duration;\r\n\r\nexport const getSelectedClip = (\r\n  { videos = [{}] },\r\n  { videoIndex = 0, clipIndex = -1 }\r\n) => videos[videoIndex].clips[clipIndex];\r\n","export const getNameFilter = ({ filters: { nameFilter } }) => nameFilter;\r\nexport const getTagFilter = ({ filters: { tagFilter } }) => tagFilter;\r\n","import { connect } from 'react-redux';\r\nimport { branch, compose, renderComponent } from 'recompose';\r\n\r\nimport ClipList from './ClipList';\r\nimport LoadingVideo from './LoadingVideo';\r\n\r\nimport { getClips } from 'videos/selectors';\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n  visibleClips: getClips(state, props)\r\n});\r\n\r\nexport default compose(\r\n  branch(\r\n    ({ video: { duration, loading } }) =>\r\n      duration === 0 && loading,\r\n    renderComponent(LoadingVideo)\r\n  ),\r\n  connect(mapStateToProps)\r\n)(ClipList);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst styles = theme => ({\r\n  rightIcon: {\r\n    marginLeft: theme.spacing.unit,\r\n  },\r\n  hidden: {\r\n    opacity: 0\r\n  }\r\n});\r\n\r\nconst NewClip = ({ classes, video: { loading }, setAdding }) => (\r\n  <Button\r\n    className={loading ? classes.hidden : ''}\r\n    color=\"primary\"\r\n    disabled={loading}\r\n    onClick={setAdding}\r\n    variant=\"contained\"\r\n  >\r\n    ADD NEW CLIP\r\n    <AddIcon className={classes.rightIcon} />\r\n  </Button>\r\n);\r\n\r\nexport default withStyles(styles)(NewClip);\r\n","import { compose, withHandlers } from 'recompose';\r\n\r\nimport ClipForm from 'videos/components/ClipForm';\r\n\r\nimport { onCancel } from './utils/handlers';\r\n\r\nexport default compose(\r\n  withHandlers({ onCancel })\r\n)(ClipForm);\r\n","export const onCancel = ({ setNotAdding }) => () => setNotAdding();\r\n","import { withState } from 'recompose';\r\n\r\nexport default withState('isAdding', 'setIsAdding', false);\r\n","import { branch, compose, renderComponent, withHandlers } from 'recompose';\r\n\r\nimport NewClip from './NewClip';\r\nimport AddClipForm from 'videos/components/AddClipForm';\r\n\r\nimport { setAdding, setNotAdding } from './utils/isAddingStateHandler';\r\nimport withIsAddingState from './utils/withIsAddingState';\r\n\r\nexport default compose(\r\n  withIsAddingState,\r\n  withHandlers({ setAdding, setNotAdding }),\r\n  branch(\r\n    ({ isAdding }) => isAdding,\r\n    renderComponent(AddClipForm)\r\n  )\r\n)(NewClip);\r\n","export const setAdding = ({ setIsAdding }) => () => setIsAdding(true);\r\n\r\nexport const setNotAdding = ({ setIsAdding }) => () => setIsAdding(false);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst styles = theme => ({\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n  container: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  textField: {\r\n    width: '100%',\r\n    margin: 0\r\n  },\r\n});\r\n\r\nconst SearchBar = ({\r\n  classes,\r\n  disabled,\r\n  name,\r\n  tag,\r\n  onNameChange,\r\n  onTagChange,\r\n  onSubmit,\r\n  onReset\r\n}) => (\r\n  <form className={classes.container} autoComplete=\"off\" onSubmit={onSubmit}>\r\n    <Grid\r\n      container\r\n      alignItems=\"stretch\"\r\n      direction=\"row\"\r\n    >\r\n      <Grid container spacing={24}>\r\n        <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            id=\"searchNameBar\"\r\n            className={classes.textField}\r\n            disabled={disabled}\r\n            label=\"Search clips by name\"\r\n            margin=\"normal\"\r\n            onChange={onNameChange}\r\n            value={name}\r\n            type=\"search\"\r\n          />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n          <TextField\r\n            id=\"searchTagBar\"\r\n            className={classes.textField}\r\n            disabled={disabled}\r\n            label=\"Search clips by tag\"\r\n            margin=\"normal\"\r\n            onChange={onTagChange}\r\n            value={tag}\r\n            type=\"search\"\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n      <Grid\r\n        container\r\n        alignItems=\"flex-end\"\r\n        direction=\"row\"\r\n        justify=\"flex-end\"\r\n      >\r\n        <Button\r\n          className={classes.button}\r\n          disabled={disabled}\r\n          onClick={onReset}\r\n        >\r\n          Reset filters\r\n        </Button>\r\n        <Button\r\n          className={classes.button}\r\n          color=\"primary\"\r\n          disabled={disabled}\r\n          onClick={onSubmit}\r\n          type=\"submit\"\r\n        >\r\n          Search\r\n        </Button>\r\n      </Grid>\r\n    </Grid>\r\n  </form>\r\n);\r\n\r\nexport default withStyles(styles)(SearchBar)\r\n","import { withProps } from 'recompose';\r\n\r\nexport default withProps(({ video: { clips } }) => ({\r\n  disabled: clips.length === 0\r\n}));\r\n\r\n","import { withState } from 'recompose';\r\n\r\nexport const withName = withState('name', 'setName', '');\r\nexport const withTag = withState('tag', 'setTag', '');\r\n","const onFilterChange = setFilter =>\r\n  ({ target: { value = '' } }) => setFilter(value);\r\n\r\nexport const onNameChange = ({ setName }) => onFilterChange(setName);\r\nexport const onTagChange = ({ setTag }) => onFilterChange(setTag);\r\n","import { connect } from 'react-redux';\r\nimport { compose, withHandlers } from 'recompose';\r\n\r\nimport SearchBar from './SearchBar';\r\n\r\nimport { emptyFilters, setFilters } from 'filters/actions';\r\nimport { clipChange } from 'videos/actions';\r\n\r\nimport withDisabledProp from './utils/withDisabledProp';\r\nimport { withName, withTag } from './utils/withFilters';\r\nimport { onNameChange, onTagChange } from './utils/handlers';\r\n\r\nconst mapDispatchToProps = (dispatch, props) => ({\r\n  onSubmit: event => {\r\n    event.preventDefault();\r\n    \r\n    const { name, setClipIndex, tag, videoIndex } = props;\r\n    setClipIndex(-1);\r\n    dispatch(clipChange(videoIndex))\r\n    dispatch(setFilters(name, tag));\r\n  },\r\n  onReset: event => {\r\n    event.preventDefault();\r\n\r\n    const { setClipIndex, setName, setTag, videoIndex } = props;\r\n    setName('');\r\n    setTag('');\r\n    setClipIndex(-1);\r\n    dispatch(clipChange(videoIndex))\r\n    dispatch(emptyFilters());\r\n  }\r\n});\r\n\r\nexport default compose(\r\n  withDisabledProp,\r\n  withName,\r\n  withTag,\r\n  withHandlers({ onNameChange, onTagChange }),\r\n  connect(null, mapDispatchToProps)\r\n)(SearchBar)\r\n","import { EMPTY_FILTERS, SET_FILTERS } from './actionTypes';\r\n\r\nexport const emptyFilters = () => ({\r\n  type: EMPTY_FILTERS\r\n});\r\n\r\nexport const setFilters = (nameFilter = '', tagFilter = '') => ({\r\n  type: SET_FILTERS,\r\n  payload: {\r\n    nameFilter,\r\n    tagFilter\r\n  }\r\n});\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst VideoInfo = ({ video: { videoUrl = '' } }) => (\r\n  <Typography variant=\"caption\" gutterBottom noWrap>\r\n    {videoUrl}\r\n  </Typography>\r\n);\r\n\r\nexport default VideoInfo;\r\n","import React, { Component, createRef } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { TIME_PRECISION } from 'videos/constants';\r\nimport { percentageToSeconds } from 'videos/utils';\r\n\r\nconst styles = () => ({\r\n  videoPlayer: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass VideoPlayer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { paused: props.video.paused };\r\n    this.videoRef = createRef();\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const { paused } = nextProps.video;\r\n    return paused !== prevState.paused\r\n      ? { paused }\r\n      : null;\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const videoPaused = this.videoPaused();\r\n    const { paused: prevPaused } = prevProps.video;\r\n    const { paused: thisPaused } = this.props.video;\r\n    if (prevPaused !== thisPaused && thisPaused !== videoPaused) {\r\n      videoPaused ? this.playVideo() : this.pauseVideo();\r\n    }\r\n  }\r\n\r\n  formatToFixed = number => parseFloat(number.toFixed(TIME_PRECISION));\r\n  \r\n  fromPercentageToSeconds = percentage =>\r\n    percentageToSeconds(percentage, this.props.video.duration);\r\n  \r\n  getVideo = () => this.videoRef.current;\r\n  \r\n  getCurrentTime = () => this.getVideo().currentTime;\r\n  \r\n  videoPaused = () => this.videoRef.current.paused;\r\n\r\n  onTimeUpdate = () => {\r\n    if (this.props.clip !== undefined) {\r\n      let currentTime = this.getCurrentTime();\r\n      const endTime = this.fromPercentageToSeconds(this.props.clip.end);\r\n      currentTime > endTime && this.getVideo().pause();\r\n    }\r\n  }\r\n\r\n  pauseVideo = () => this.videoRef.current.pause();\r\n  \r\n  playVideo = () => {\r\n    if (this.props.clip === undefined) return this.getVideo().play();\r\n\r\n    const currentTime = this.getCurrentTime();\r\n    const startTime = this.fromPercentageToSeconds(this.props.clip.start);\r\n    const endTime = this.fromPercentageToSeconds(this.props.clip.end);\r\n    if (currentTime < startTime || endTime <= currentTime) {\r\n      this.videoRef.current.currentTime = startTime;\r\n    }\r\n\r\n    this.videoRef.current.play();\r\n  };\r\n\r\n\r\n  render() {\r\n    const {\r\n      classes,\r\n      onLoadedMetadata,\r\n      onPause,\r\n      onPlay,\r\n      url\r\n    } = this.props;\r\n\r\n    return (\r\n      <video\r\n        ref={this.videoRef}\r\n        className={classes.videoPlayer}\r\n        controls={!this.props.clip}\r\n        name=\"media\"\r\n        onLoadedMetadata={onLoadedMetadata}\r\n        onPause={onPause}\r\n        onPlay={onPlay}\r\n        onTimeUpdate={this.onTimeUpdate}\r\n        preload=\"metadata\"\r\n        src={url}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(VideoPlayer);\r\n","import { withProps } from 'recompose';\r\nimport { percentageToSeconds } from 'videos/utils';\r\n\r\nexport default withProps(({\r\n  clip,\r\n  video: { duration }\r\n}) => {\r\n  if (!clip) return { mediaFragment: '' };\r\n  \r\n  const mediaFragmentStart = percentageToSeconds(clip.start, duration);\r\n  const mediaFragmentEnd = percentageToSeconds(clip.end, duration);\r\n\r\n  return { mediaFragment: `#t=${mediaFragmentStart},${mediaFragmentEnd}` };\r\n});\r\n","import { withProps } from 'recompose';\r\n\r\nexport default withProps(({\r\n  mediaFragment,\r\n  video: { videoUrl }\r\n}) => ({\r\n  url: `${videoUrl}${mediaFragment}`\r\n}));\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'recompose';\r\n\r\nimport VideoPlayer from './VideoPlayer';\r\n\r\nimport { setDuration, pauseVideo, playVideo } from 'videos/actions';\r\nimport { getSelectedClip } from 'videos/selectors/selectors';\r\n\r\nimport withMediaFragment from './utils/withMediaFragment';\r\nimport withModifiedUrl from './utils/withModifiedUrl';\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n  clip: getSelectedClip(state, props)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch, { videoIndex }) => ({\r\n  onLoadedMetadata: event =>\r\n    dispatch(setDuration(event.target.duration, videoIndex)),\r\n  onPause: () =>\r\n    dispatch(pauseVideo(videoIndex)),\r\n  onPlay: () =>\r\n    dispatch(playVideo(videoIndex))\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withMediaFragment,\r\n  withModifiedUrl\r\n)(VideoPlayer);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport ClipList from 'videos/components/ClipList';\r\nimport NewClip from 'videos/components/NewClip';\r\nimport SearchBar from 'videos/components/SearchBar';\r\nimport VideoInfo from 'videos/components/VideoInfo';\r\nimport VideoPlayer from 'videos/components/VideoPlayer';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    ...theme.mixins.gutters(),\r\n    height: '100vh',\r\n    padding: theme.spacing.unit * 2\r\n  },\r\n  container: {\r\n    height: '100%'\r\n  },\r\n  paper: {\r\n    padding: theme.spacing.unit * 2,\r\n    textAlign: 'center',\r\n    color: theme.palette.text.primary\r\n  },\r\n  listPaper: {\r\n    padding: theme.spacing.unit * 2,\r\n    textAlign: 'center',\r\n    color: theme.palette.text.primary,\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column'\r\n  },\r\n  clipsList: {\r\n    flex: 1\r\n  },\r\n  sectionDivider: {\r\n    marginBottom: theme.spacing.unit * 2,\r\n    marginTop: theme.spacing.unit * 2\r\n  },\r\n  columnContainer: {\r\n    flexDirection: 'column',\r\n    [theme.breakpoints.up('md')]: {\r\n      height: '100%',\r\n    }\r\n  },\r\n  newClipContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    [theme.breakpoints.down('sm')]: {\r\n      flexBasis: '100%',\r\n      marginTop: theme.spacing.unit * 2,\r\n    }\r\n  }\r\n});\r\n\r\nconst Videos = ({\r\n  classes,\r\n  clipIndex,\r\n  setClip,\r\n  setClipIndex,\r\n  setFullVideo,\r\n  video,\r\n  videoIndex\r\n}) => (\r\n  <div className={classes.root}>\r\n    <Grid className={classes.container} container spacing={24}>\r\n      <Grid item xs={12} md={6} className={classes.columnContainer}>\r\n        <Grid container className={classes.columnContainer}>\r\n          <Grid item>\r\n            <Paper className={classes.paper}>\r\n              <VideoPlayer\r\n                video={video}\r\n                videoIndex={videoIndex}\r\n                clipIndex={clipIndex}\r\n              />\r\n              <VideoInfo video={video} clipIndex={clipIndex} />\r\n            </Paper>\r\n          </Grid>\r\n          <Grid item xs className={classes.newClipContainer}>\r\n            <NewClip video={video} videoIndex={videoIndex} />\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid item xs={12} md={6}>\r\n        <Grid container className={classes.columnContainer}>\r\n          <Paper className={classes.listPaper}>\r\n            <Grid container spacing={24} alignItems=\"center\">\r\n              <Grid item xs={12}>\r\n                <SearchBar\r\n                  setClipIndex={setClipIndex}\r\n                  videoIndex={videoIndex}\r\n                  video={video}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Divider className={classes.sectionDivider} />\r\n            <Grid\r\n              alignItems=\"stretch\"\r\n              className={classes.clipsList}\r\n              container\r\n              direction=\"column\"\r\n              justify=\"flex-start\"\r\n              spacing={24}\r\n            >\r\n              <ClipList\r\n                clipIndex={clipIndex}\r\n                setClip={setClip}\r\n                setFullVideo={setFullVideo}\r\n                video={video}\r\n                videoIndex={videoIndex}\r\n              />\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(Videos);\r\n","import { withState } from 'recompose';\r\n\r\nexport const withSelectedClip = withState('clipIndex', 'setClipIndex', -1);\r\nexport const withSelectedVideo = withState('videoIndex', 'setVideoIndex', 0);\r\n","import { clipChange } from 'videos/actions';\r\n\r\nexport const setClip = (dispatch, { clipIndex, setClipIndex, videoIndex }) => event => {\r\n  const currentClipIndex = parseInt(event.currentTarget.getAttribute('clipindex'));\r\n  setClipIndex(isNaN(currentClipIndex) ? -1 : currentClipIndex);\r\n  clipIndex !== currentClipIndex && dispatch(clipChange(videoIndex));\r\n};\r\n\r\nexport const setFullVideo = ({ setClipIndex }) =>\r\n  () => setClipIndex && setClipIndex(-1);\r\n","import { compose, withHandlers } from 'recompose';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Main from './Main';\r\n\r\nimport { withSelectedClip, withSelectedVideo } from './utils/withMainState';\r\nimport { setClip, setFullVideo } from './utils/withMainHandlers';\r\n\r\nimport { getSelectedVideo } from 'videos/selectors/selectors';\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n  video: getSelectedVideo(state, props)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch, props) => ({\r\n  setClip: setClip(dispatch, props)\r\n});\r\n\r\nexport default compose(\r\n  withSelectedVideo,\r\n  withSelectedClip,\r\n  withHandlers({ setClip, setFullVideo }),\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(Main);\r\n","import React, { Fragment } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport Videos from 'videos/components/Main';\n\nconst App = () => (\n  <Fragment>\n    <CssBaseline />\n    <Videos />\n  </Fragment>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { configureStore } from 'redux-starter-kit'\n\nimport * as serviceWorker from './serviceWorker';\nimport rootReducer from './rootReducer';\n\nimport App from './App';\nimport './index.css';\n\nexport const store = configureStore({\n  devTools: true,\n  reducer: rootReducer\n});\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}