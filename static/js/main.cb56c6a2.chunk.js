(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e){e.exports={nameFilter:"",tagFilter:""}},151:function(e,t,n){e.exports=n(337)},333:function(e,t,n){},337:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(25),o=n.n(r),l=n(17),c=n(147);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s,d,u,m=n(67),p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"autoPlay/SWITCH":return!e;case"autoPlay/TURN_ON":return!0;case"autoPlay/TURN_OFF":return!1;default:return e}},v=n(20),g=n(137),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"filters/EMPTY_FILTERS":return Object(v.a)({},e,{nameFilter:"",tagFilter:""});case"filters/SET_FILTERS":return Object(v.a)({},e,{nameFilter:t.payload.nameFilter,tagFilter:t.payload.tagFilter});default:return e}},b=n(18),E=n(148),h=6,I=function(e){return e<10?"0".concat(e):"".concat(e)},C=function(e){var t=parseFloat(e.toFixed(h));return t<60?"".concat(e," seconds"):x(t)},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(!isNaN(e)){var n=parseFloat(e*t/100),a=I(parseInt(n/60)),i=I(parseInt(n%60));return"".concat(a,":").concat(i)}},y=function(e,t){return parseFloat(e*t/100)},O=function(e){return window.localStorage.setItem("videoSlicerClips",JSON.stringify(e))},j=[{duration:0,clips:JSON.parse(window.localStorage.getItem("videoSlicerClips"))||[],loading:!0,paused:!0,videoUrl:"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4"}],D=function(e,t){return e[t]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"videos/ADD_CLIP":return u=D(e,n.videoIndex),s=u.clips,d=Object(E.a)(u.clips).concat([n.clip]),O(d),Object.assign([],e,Object(b.a)({},n.videoIndex,Object(v.a)({},u,{clips:d})));case"videos/EDIT_CLIP":return u=D(e,n.videoIndex),s=u.clips,d=Object.assign([],s,Object(b.a)({},n.clipIndex,n.clip)),O(d),Object.assign([],e,Object(b.a)({},n.videoIndex,Object(v.a)({},u,{clips:d})));case"videos/REMOVE_CLIP":return u=D(e,n.videoIndex),s=u.clips,d=s.slice(0,n.clipIndex).concat(s.slice(n.clipIndex+1)),O(d),Object.assign([],e,Object(b.a)({},n.videoIndex,Object(v.a)({},u,{clips:d})));case"videos/REMOVE_ALL_CLIPS":return u=D(e,n.videoIndex),O(d=[]),Object.assign([],e,Object(b.a)({},n.videoIndex,Object(v.a)({},u,{loading:!1,clips:d})));case"videos/SET_DURATION":return u=D(e,n.videoIndex),Object.assign([],e,Object(b.a)({},n.videoIndex,Object(v.a)({},u,{duration:n.duration,loading:!1})));case"videos/CLIP_CHANGE":return u=D(e,n.videoIndex),Object.assign([],e,Object(b.a)({},n.videoIndex,Object(v.a)({},u,{loading:!0,paused:!0})));case"videos/PAUSE_VIDEO":return u=D(e,n.videoIndex),Object.assign([],e,Object(b.a)({},n.videoIndex,Object(v.a)({},u,{paused:!0})));case"videos/PLAY_VIDEO":return u=D(e,n.videoIndex),Object.assign([],e,Object(b.a)({},n.videoIndex,Object(v.a)({},u,{paused:!1})));default:return Object(v.a)({},e)}},T=Object(m.b)({autoPlay:p,filters:f,videos:w}),N=n(146),P=n.n(N),F=n(4),S=n(15),k=n(11),A=n.n(k),L=n(54),V=n.n(L),R=n(72),M=n.n(R),_=n(90),B=n.n(_),U=n(57),W=n.n(U),Y=n(55),H=n.n(Y),J=n(56),G=n.n(J),z=n(140),q=n.n(z),$=n(73),K=n.n($),Q=n(74),X=n.n(Q),Z=n(142),ee=n.n(Z),te=n(94),ne=n.n(te),ae=n(22),ie=n.n(ae),re=n(141),oe=n.n(re),le=n(23),ce=n.n(le),se=n(69),de=n.n(se),ue=n(40),me=n.n(ue),pe=n(68),ve=n.n(pe),ge=n(39),fe=n.n(ge),be=function(e){var t=e.dialogDescription,n=e.dialogTitle,r=e.end,o=e.name,l=e.start,c=e.onClose,s=e.deleteItem;return i.a.createElement(a.Fragment,null,i.a.createElement(fe.a,{id:n},"Are you sure you want to delete this clip?"),i.a.createElement(me.a,null,i.a.createElement(ve.a,{id:t},"Name: '".concat(o,"', from ").concat(l," to ").concat(r))),i.a.createElement(de.a,null,i.a.createElement(ce.a,{onClick:c,color:"primary"},"Cancel"),i.a.createElement(ce.a,{onClick:s,color:"secondary"},"Delete")))},Ee=n(149),he=n(41),Ie=n(42),Ce=n(44),xe=n(43),ye=n(45),Oe=n(46),je=n.n(Oe),De=n(93),we=n.n(De),Te=function(e,t){return{type:"videos/ADD_CLIP",payload:{clip:e,videoIndex:t}}},Ne=function(e,t,n){return{type:"videos/EDIT_CLIP",payload:{clip:e,clipIndex:t,videoIndex:n}}},Pe=function(e){return{type:"videos/CLIP_CHANGE",payload:{videoIndex:e}}},Fe=function(e){return{type:"videos/PAUSE_VIDEO",payload:{videoIndex:e}}},Se=function(e){return{type:"videos/PLAY_VIDEO",payload:{videoIndex:e}}},ke=function(e){var t=e.name,n=e.start,a=e.end,i={};return function(e){return""!==e}(t)||(i.name="The clip must have a name"),function(e,t){return e<t&&e<100&&t<=100}(n,a)||(i.time="Invalid time range"),i},Ae=function(e){function t(e){var n;return Object(he.a)(this,t),(n=Object(Ce.a)(this,Object(xe.a)(t).call(this,e))).handleTextChange=function(e){var t,a=e.target,i=a.name,r=a.value;return n.setState((t={},Object(b.a)(t,i,r),Object(b.a)(t,"errors",Object(v.a)({},n.state.errors,Object(b.a)({},i,""))),t))},n.handleStartChange=function(e,t){var a=n.state.end;t>=a&&(t=a-1),n.setState({start:t})},n.handleEndChange=function(e,t){var a=n.state.start;a>=t&&(t=a+1),n.setState({end:t})},n.onFocus=function(e){return e.target.select()},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=(t.errors,Object(Ee.a)(t,["errors"])),i=n.props,r=i.clipIndex,o=i.dispatch,l=i.videoIndex,c=i.onCancel,s=ke(a);0===Object.keys(s).length?(o(isNaN(r)?Te(a,l):Ne(a,r,l)),c&&c()):n.setState({errors:s})},n.state={end:e.end||100,name:e.name||"",start:e.start||0,tag:e.tag||"",errors:{name:"",tag:"",time:""}},n}return Object(ye.a)(t,e),Object(Ie.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.video.duration,a=e.clipIndex,r=void 0===a?"":a,o=e.videoIndex,l=void 0===o?"":o,c=e.onCancel,s=this.state,d=s.name,u=s.tag,m=s.start,p=s.end,v=s.errors;return i.a.createElement("form",{onSubmit:this.onSubmit,clipindex:r,videoindex:l},i.a.createElement(A.a,{container:!0,spacing:16},i.a.createElement(A.a,{item:!0,xs:12,sm:6},i.a.createElement(je.a,{id:"clipName",className:t.textField,error:""!==v.name,label:v.name||"Clip name",margin:"normal",name:"name",onChange:this.handleTextChange,onFocus:this.onFocus,required:!0,value:d})),i.a.createElement(A.a,{item:!0,xs:12,sm:6},i.a.createElement(je.a,{id:"clipTag",className:t.lastTextField,label:"Clip tag",margin:"normal",name:"tag",onChange:this.handleTextChange,onFocus:this.onFocus,value:u})),i.a.createElement(A.a,{item:!0,xs:12},i.a.createElement(ie.a,{id:"startLabel"},"From ".concat(x(m,n))),i.a.createElement(we.a,{id:"clipStart",classes:{container:t.slider},"aria-labelledby":"startLabel",min:0,max:100,name:"start",onChange:this.handleStartChange,value:m})),i.a.createElement(A.a,{item:!0,xs:12},i.a.createElement(ie.a,{id:"endLabel"},"To ".concat(x(p,n))),i.a.createElement(we.a,{id:"clipEnd",classes:{container:t.slider},"aria-labelledby":"endLabel",min:0,max:100,name:"end",onChange:this.handleEndChange,value:p})),i.a.createElement(A.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},i.a.createElement(ce.a,{className:t.button,onClick:c},"Cancel"),i.a.createElement(ce.a,{className:t.button,color:"primary",type:"submit",onClick:this.onSubmit},"Save"))))}}]),t}(a.Component),Le=Object(F.b)(Object(S.withStyles)(function(e){return{button:{margin:e.spacing.unit},container:Object(v.a)({},e.mixins.gutters(),{width:"100%",display:"flex",alignItems:"center",backgroundColor:"red",padding:2*e.spacing.unit}),slider:{padding:"".concat(e.spacing.unit,"px 0px")},textField:{width:"100%",margin:0},lastTextField:{width:"100%",margin:0,marginBottom:e.spacing.unit}}}),Object(l.b)())(Ae),Ve=Object(S.withStyles)(function(){return{dialogContent:{overflow:"hidden"}}})(function(e){var t=e.classes,n=e.dialogTitle,r=e.end,o=e.name,l=e.start,c=e.clipIndex,s=e.videoIndex,d=e.video,u=e.onCancel;return i.a.createElement(a.Fragment,null,i.a.createElement(fe.a,{id:n},"Editing clip"),i.a.createElement(me.a,{className:t.dialogContent},i.a.createElement(Le,{end:r,name:o,start:l,video:d,clipIndex:c,videoIndex:s,onCancel:u})))}),Re=Object(F.b)(Object(F.d)({onCancel:function(e){var t=e.closeEditing,n=e.closeMenu;return function(){t&&t(),n&&n()}}}))(Ve),Me=n(139),_e=n.n(Me),Be=n(70),Ue=n.n(Be),We=function(e){var t=e.clipIndex,n=e.Icon,a=e.label,r=e.onClick;return i.a.createElement(H.a,{"aria-label":a,clipindex:t,onClick:r},i.a.createElement(n,null))},Ye=Object(F.b)(Object(F.e)({label:"Pause",Icon:Ue.a}),Object(l.b)(null,function(e,t){return{onClick:function(e,t){var n=t.videoIndex;return function(){return e(Fe(n))}}(e,t)}}))(We),He=n(71),Je=n.n(He),Ge=Object(F.b)(Object(F.e)({label:"Play",Icon:Je.a}),Object(l.b)(null,function(e,t){return{onClick:t.selected?function(e,t){var n=t.videoIndex;return function(){return e(Se(n))}}(e,t):t.setClip}}))(We),ze=function(e){var t=e.video,n=e.selected,a=e.clipIndex,r=e.setClip,o=e.videoIndex;return n&&t.loading?i.a.createElement(_e.a,{testid:"RenderIcon.CircularProgress"}):n&&!t.paused?i.a.createElement(Ye,{clipIndex:a,selected:n,setClip:r,testid:"RenderIcon.PauseButton",videoIndex:o}):i.a.createElement(Ge,{clipIndex:a,selected:n,setClip:r,testid:"RenderIcon.PlayButton",videoIndex:o})},qe=Object(S.withStyles)(function(){return{icon:{height:48,width:48}}})(function(e){var t=e.classes,n=e.name,r=e.tag,o=e.start,l=e.end,c=e.video,s=e.clipIndex,d=e.videoIndex,u=e.selected,m=e.setClip,p=e.deleting,v=e.editing,g=e.anchorEl,f=e.openMenu,b=e.closeMenu,E=e.deleteItem,h=e.openEditing,I=e.closeEditing,C=e.openDeleting,y=e.closeDeleting;return i.a.createElement(a.Fragment,null,i.a.createElement(M.a,{component:"li"}),i.a.createElement(G.a,{title:"Play ".concat(n),button:!0,component:"a",selected:u},i.a.createElement(q.a,{className:t.icon},i.a.createElement(ze,{clipIndex:s,selected:u,setClip:m,video:c,videoIndex:d})),i.a.createElement(K.a,{primary:function(e,t){return t?"".concat(e," (").concat(t,")"):e}(n,r),secondary:"".concat(x(o,c.duration)," - ").concat(x(l,c.duration)),onClick:m,clipindex:s}),i.a.createElement(X.a,{title:"".concat(n," options")},i.a.createElement(H.a,{"aria-label":"More","aria-owns":g?"clipMenu":void 0,"aria-haspopup":"true",className:t.icon,onClick:f},i.a.createElement(oe.a,null))),i.a.createElement(ee.a,{id:"clipMenu",anchorEl:g,open:Boolean(g),onClose:b},i.a.createElement(ne.a,{onClick:h},"Edit"),i.a.createElement(ne.a,{onClick:C,color:"secondary"},i.a.createElement(ie.a,{color:"secondary"},"Delete"))),i.a.createElement(W.a,{open:p,onClose:y,"aria-labelledby":"deleteClipDialog","aria-describedby":"deleteClipDialogDescription"},i.a.createElement(be,{dialogTitle:"deleteClipDialog",dialogDescription:"deleteClipDialogDescription",end:l,name:n,start:o,onClose:y,deleteItem:E})),i.a.createElement(W.a,{open:v,onClose:I,"aria-labelledby":"editClipDialog"},i.a.createElement(Re,{dialogTitle:"editClipDialog",end:l,name:n,start:o,video:c,clipIndex:s,videoIndex:d,closeEditing:I,closeMenu:b}))))}),$e=Object(F.f)("anchorEl","setAnchorEl",!1),Ke=Object(F.f)("editing","setEditing",!1),Qe=Object(F.f)("deleting","setDeleting",!1),Xe=Object(F.b)($e,Qe,Ke,Object(F.d)({closeMenu:function(e){var t=e.setAnchorEl;return function(){return t(null)}},openMenu:function(e){var t=e.setAnchorEl;return function(e){return t(e.currentTarget)}},openEditing:function(e){var t=e.setEditing;return function(){return t(!0)}},closeEditing:function(e){var t=e.setEditing;return function(){return t(!1)}},openDeleting:function(e){var t=e.setDeleting;return function(){return t(!0)}},closeDeleting:function(e){var t=e.setDeleting;return function(){return t(!1)}}}),Object(l.b)(null,function(e,t){return{deleteItem:function(){var n=t.closeMenu,a=t.closeDeleting,i=t.clipIndex,r=t.setFullVideo,o=t.videoIndex;e(function(e,t){return{type:"videos/REMOVE_CLIP",payload:{clipIndex:e,videoIndex:t}}}(i,o)),a&&a(),n&&n(),r&&r()}}}))(qe),Ze=function(e){var t=e.clipIndex,n=e.setClip,a=e.video,r=e.videoIndex;return i.a.createElement(G.a,{title:"Play full video",selected:-1===t,button:!0,component:"a"},i.a.createElement(K.a,{primary:"Full video (duration: ".concat(C(a.duration),")"),secondary:a.videoUrl,secondaryTypographyProps:{noWrap:!0,title:a.videoUrl},clipindex:-1,onClick:n}),i.a.createElement(X.a,null,i.a.createElement(ze,{clipIndex:-1,selected:-1===t,setClip:n,video:a,videoIndex:r})))},et=Object(S.withStyles)(function(e){return{loadingVideo:{margin:4*e.spacing.unit}}})(function(e){var t=e.classes;return i.a.createElement(ie.a,{className:t.loadingVideo,variant:"subtitle2"},"No clips match those filters")}),tt=Object(S.withStyles)(function(){return{list:{overflow:"auto",padding:"0 12px"}}})(function(e){var t=e.classes,n=e.clipIndex,a=e.setClip,r=e.setFullVideo,o=e.video,l=e.videoIndex,c=e.visibleClips;return i.a.createElement(B.a,{className:t.list},i.a.createElement(Ze,{clipIndex:n,setClip:a,video:o,videoIndex:l}),o.clips.length>0&&0===c.length?i.a.createElement(et,null):c.map(function(e,t){return i.a.createElement(Xe,Object.assign({},e,{key:"clip-".concat(t),clipIndex:t,selected:n===t,setClip:a,setFullVideo:r,video:o,videoIndex:l}))}))}),nt=Object(S.withStyles)(function(e){return{loadingVideo:{margin:4*e.spacing.unit}}})(function(e){var t=e.classes;return i.a.createElement(ie.a,{className:t.loadingVideo,variant:"subtitle2"},"Please wait...")}),at=n(143),it=function(e,t){var n=e.videos,a=void 0===n?[{}]:n,i=t.videoIndex;return a[void 0===i?0:i]},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.toLowerCase().trim().includes(t.toLowerCase().trim())},ot=function(e,t,n){return e.filter(function(e){var a=e.name,i=e.tag;return rt(a,t)&&rt(i,n)})},lt=Object(at.a)([function(e,t){return it(e,t).clips},function(e){var t=e.filters;return(t=void 0===t?{}:t).nameFilter},function(e){var t=e.filters;return(t=void 0===t?{}:t).tagFilter}],function(e,t,n){return ot(e,t,n)}),ct=Object(F.b)(Object(F.a)(function(e){var t=e.video,n=t.duration,a=t.loading;return 0===n&&a},Object(F.c)(nt)),Object(l.b)(function(e,t){return{visibleClips:lt(e,t)}}))(tt),st=n(144),dt=n.n(st),ut=Object(S.withStyles)(function(e){return{rightIcon:{marginLeft:e.spacing.unit},hidden:{opacity:0}}})(function(e){var t=e.classes,n=e.video.loading,a=e.setAdding;return i.a.createElement(ce.a,{className:n?t.hidden:"",color:"primary",disabled:n,onClick:a,variant:"contained"},"ADD NEW CLIP",i.a.createElement(dt.a,{className:t.rightIcon}))}),mt=Object(F.b)(Object(F.d)({onCancel:function(e){var t=e.setNotAdding;return function(){return t()}}}))(Le),pt=Object(F.f)("isAdding","setIsAdding",!1),vt=Object(F.b)(pt,Object(F.d)({setAdding:function(e){var t=e.setIsAdding;return function(){return t(!0)}},setNotAdding:function(e){var t=e.setIsAdding;return function(){return t(!1)}}}),Object(F.a)(function(e){return e.isAdding},Object(F.c)(mt)))(ut),gt=n(145),ft=n.n(gt),bt=function(e){var t=e.autoPlay,n=e.switchAutoPlay;return i.a.createElement(ft.a,{checked:t,color:"primary",onChange:n,value:"autoPlay"})},Et=Object(l.b)(function(e){return{autoPlay:e.autoPlay}},function(e){return{switchAutoPlay:function(){return e({type:"autoPlay/SWITCH"})}}})(bt),ht=function(e){var t=e.dialogDescription,n=e.dialogTitle,r=e.onClose,o=e.removeAllClips;return i.a.createElement(a.Fragment,null,i.a.createElement(fe.a,{id:n,testid:"DeleteAllItemsDialog.dialogTitle"},"Are you sure you want to delete all clips?"),i.a.createElement(me.a,null,i.a.createElement(ve.a,{id:t,color:"secondary",testid:"DeleteAllItemsDialog.dialogContentText"},"This action is not reversible")),i.a.createElement(de.a,null,i.a.createElement(ce.a,{onClick:r,color:"primary",testid:"DeleteAllItemsDialog.closeButton"},"Cancel"),i.a.createElement(ce.a,{onClick:o,color:"secondary",testid:"DeleteAllItemsDialog.deleteButton"},"Delete")))},It=Object(S.withStyles)(function(e){return{button:{margin:e.spacing.unit},container:{width:"100%",display:"flex",alignItems:"center"},textField:{width:"100%",margin:0}}})(function(e){var t=e.classes,n=e.disabled,r=e.name,o=e.tag,l=e.onNameChange,c=e.onTagChange,s=e.onSubmit,d=e.onReset,u=e.removeAllClips,m=e.deleteDialog,p=e.openDialog,v=e.closeDialog;return i.a.createElement(a.Fragment,null,i.a.createElement(ie.a,null,"AUTOPLAY",i.a.createElement(Et,null),"(not working yet)"),i.a.createElement("form",{className:t.container,autoComplete:"off",onSubmit:s},i.a.createElement(A.a,{container:!0,alignItems:"stretch",direction:"row"},i.a.createElement(A.a,{container:!0,spacing:24},i.a.createElement(A.a,{item:!0,xs:12,sm:6},i.a.createElement(je.a,{id:"searchNameBar",className:t.textField,disabled:n,label:"Search clips by name",margin:"normal",onChange:l,value:r,type:"search"})),i.a.createElement(A.a,{item:!0,xs:12,sm:6},i.a.createElement(je.a,{id:"searchTagBar",className:t.textField,disabled:n,label:"Search clips by tag",margin:"normal",onChange:c,value:o,type:"search"}))),i.a.createElement(A.a,{container:!0,alignItems:"flex-end",direction:"row",justify:"flex-end"},i.a.createElement(ce.a,{className:t.button,color:"secondary",disabled:n,onClick:p},"Delete all clips"),i.a.createElement(ce.a,{className:t.button,disabled:n,onClick:d},"Reset filters"),i.a.createElement(ce.a,{className:t.button,color:"primary",disabled:n,onClick:s,type:"submit"},"Search")))),i.a.createElement(W.a,{open:m,onClose:v,"aria-labelledby":"deleteAllItemsDialog","aria-describedby":"deleteAllItemsDialogDescription"},i.a.createElement(ht,{dialogTitle:"deleteAllItemsDialog",dialogDescription:"deleteAllItemsDialogDescription",onClose:v,removeAllClips:u})))}),Ct=Object(F.e)(function(e){var t=e.video,n=t.clips;return{disabled:0===t.duration||0===n.length}}),xt=Object(F.f)("name","setName",""),yt=Object(F.f)("tag","setTag",""),Ot=function(e){return function(t){var n=t.target.value;return e(void 0===n?"":n)}},jt=Object(F.f)("deleteDialog","setDeleteDialog",!1),Dt=Object(F.b)(Ct,jt,xt,yt,Object(F.d)({onNameChange:function(e){var t=e.setName;return Ot(t)},onTagChange:function(e){var t=e.setTag;return Ot(t)},closeDialog:function(e){var t=e.setDeleteDialog;return function(){return t(!1)}},openDialog:function(e){var t=e.setDeleteDialog;return function(){return t(!0)}}}),Object(l.b)(null,function(e,t){return{onSubmit:function(n){n.preventDefault();var a=t.name,i=t.setClipIndex,r=t.tag,o=t.videoIndex;i(-1),e(Pe(o)),e(function(){return{type:"filters/SET_FILTERS",payload:{nameFilter:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",tagFilter:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}}}(a,r))},onReset:function(n){n.preventDefault();var a=t.setClipIndex,i=t.setName,r=t.setTag;i(""),r(""),a(-1),e({type:"filters/EMPTY_FILTERS"})},removeAllClips:function(n){n.preventDefault();var a=t.setClipIndex,i=t.setDeleteDialog,r=t.videoIndex;i(!1),a(-1),e(Pe(r)),e(function(e){return{type:"videos/REMOVE_ALL_CLIPS",payload:{videoIndex:e}}}(r))}}}))(It),wt=function(e){var t=e.video.videoUrl,n=void 0===t?"":t;return i.a.createElement(ie.a,{variant:"caption",gutterBottom:!0,noWrap:!0},n)},Tt=function(e){function t(e){var n;return Object(he.a)(this,t),(n=Object(Ce.a)(this,Object(xe.a)(t).call(this,e))).getControlsContainer=function(){return n.controlsContainerRef.current},n.getControlsContent=function(){return n.controlsContentRef.current},n.onMouseEnter=function(){return n.getControlsContent().classList.add(n.props.classes.show)},n.onMouseLeave=function(){return n.getControlsContent().classList.remove(n.props.classes.show)},n.controlsContainerRef=Object(a.createRef)(),n.controlsContentRef=Object(a.createRef)(),n}return Object(ye.a)(t,e),Object(Ie.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.video.paused,a=e.onClick;return i.a.createElement("div",{ref:this.controlsContainerRef,className:t.container,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},i.a.createElement("div",{ref:this.controlsContentRef,className:t.content},i.a.createElement("div",{className:t.playBackButtonContainer},n?i.a.createElement(Je.a,{className:t.playBackButton,onClick:a}):i.a.createElement(Ue.a,{className:t.playBackButton,onClick:a}))))}}]),t}(a.Component),Nt=Object(S.withStyles)(function(){return{container:{zIndex:7e3,position:"absolute",width:"100%",height:"100%",transition:"all 300ms"},content:{zIndex:9e3,width:"100%",height:"100%",opacity:0},show:{opacity:.5},playBackButtonContainer:{height:"20%",width:"12%",opacity:1,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},playBackButton:{color:"white",height:"100%",width:"100%",cursor:"pointer"}}})(Tt),Pt=function(e){function t(e){var n;return Object(he.a)(this,t),(n=Object(Ce.a)(this,Object(xe.a)(t).call(this,e))).formatToFixed=function(e){return parseFloat(e.toFixed(h))},n.fromPercentageToSeconds=function(e){return y(e,n.props.video.duration)},n.getVideo=function(){return n.videoRef.current},n.getCurrentTime=function(){return n.getVideo().currentTime},n.setCurrentTime=function(e){return n.getVideo().currentTime=e},n.videoIsPaused=function(){return n.getVideo().paused},n.videoIsFullScreen=function(){return n.getVideo().fullscreenElement},n.onTimeUpdate=function(){void 0!==n.props.clip&&(n.getCurrentTime()>n.fromPercentageToSeconds(n.props.clip.end)&&n.pauseVideo())},n.pauseVideo=function(){return n.getVideo().pause()},n.playVideo=function(){if(void 0===n.props.clip)return n.getVideo().play();var e=n.getCurrentTime(),t=n.fromPercentageToSeconds(n.props.clip.start),a=n.fromPercentageToSeconds(n.props.clip.end);(e<t||a<=e)&&n.setCurrentTime(t),n.getVideo().play()},n.onClick=function(){n.videoIsPaused()?(n.props.onPlay(),n.playVideo()):(n.props.onPause(),n.pauseVideo())},n.state={paused:e.video.paused},n.videoRef=Object(a.createRef)(),n}return Object(ye.a)(t,e),Object(Ie.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.videoIsPaused(),n=e.video.paused,a=this.props.video.paused;n!==a&&a!==t&&(t?this.playVideo():this.pauseVideo())}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.clip,a=e.onLoadedMetadata,r=e.onPause,o=e.onPlay,l=e.video,c=e.url;return i.a.createElement("div",{style:{position:"relative"}},n&&i.a.createElement(Nt,{onClick:this.onClick,video:l}),i.a.createElement("video",{ref:this.videoRef,className:t.videoPlayer,controls:!n,name:"media",onDoubleClick:n&&this.onDoubleClick,onLoadedMetadata:a,onPause:r,onPlay:o,onTimeUpdate:this.onTimeUpdate,preload:"metadata",src:c}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.video.paused;return n!==t.paused?{paused:n}:null}}]),t}(a.Component),Ft=Object(S.withStyles)(function(){return{videoPlayer:{width:"100%"}}})(Pt),St=Object(F.e)(function(e){var t=e.clip,n=e.video.duration;if(!t)return{mediaFragment:""};var a=y(t.start,n),i=y(t.end,n);return{mediaFragment:"#t=".concat(a,",").concat(i)}}),kt=Object(F.e)(function(e){var t=e.mediaFragment,n=e.video.videoUrl;return{url:"".concat(n).concat(t)}}),At=Object(F.b)(Object(l.b)(function(e,t){return{clip:function(e,t){return it(e,t).clips[t.clipIndex]}(e,t),autoPlay:function(e){var t=e.autoPlay;return void 0!==t&&t}(e)}},function(e,t){var n=t.videoIndex;return{onLoadedMetadata:function(t){return e(function(e,t){return{type:"videos/SET_DURATION",payload:{duration:e,videoIndex:t}}}(t.target.duration,n))},onPause:function(){return e(Fe(n))},onPlay:function(){return e(Se(n))}}}),St,kt)(Ft),Lt=Object(S.withStyles)(function(e){return{root:Object(v.a)({flexGrow:1},e.mixins.gutters(),{height:"100vh",padding:2*e.spacing.unit}),container:{height:"100%"},paper:{padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.primary},listPaper:{padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.primary,height:"100%",display:"flex",flexDirection:"column"},clipsList:{flex:1},sectionDivider:{marginBottom:2*e.spacing.unit,marginTop:2*e.spacing.unit},columnContainer:Object(b.a)({flexDirection:"column"},e.breakpoints.up("md"),{height:"100%"}),newClipContainer:Object(b.a)({display:"flex",alignItems:"center",justifyContent:"center"},e.breakpoints.down("sm"),{flexBasis:"100%",marginTop:2*e.spacing.unit})}})(function(e){var t=e.classes,n=e.clipIndex,a=e.setClip,r=e.setClipIndex,o=e.setFullVideo,l=e.video,c=e.videoIndex;return i.a.createElement("div",{className:t.root},i.a.createElement(A.a,{className:t.container,container:!0,spacing:24},i.a.createElement(A.a,{item:!0,xs:12,md:6,className:t.columnContainer},i.a.createElement(A.a,{container:!0,className:t.columnContainer},i.a.createElement(A.a,{item:!0},i.a.createElement(V.a,{className:t.paper},i.a.createElement(At,{video:l,videoIndex:c,clipIndex:n}),i.a.createElement(wt,{video:l,clipIndex:n}))),i.a.createElement(A.a,{item:!0,xs:!0,className:t.newClipContainer},i.a.createElement(vt,{video:l,videoIndex:c})))),i.a.createElement(A.a,{item:!0,xs:12,md:6},i.a.createElement(A.a,{container:!0,className:t.columnContainer},i.a.createElement(V.a,{className:t.listPaper},i.a.createElement(A.a,{container:!0,spacing:24,alignItems:"center"},i.a.createElement(A.a,{item:!0,xs:12},i.a.createElement(Dt,{setClipIndex:r,videoIndex:c,video:l}))),i.a.createElement(M.a,{className:t.sectionDivider}),i.a.createElement(A.a,{alignItems:"stretch",className:t.clipsList,container:!0,direction:"column",justify:"flex-start",spacing:24},i.a.createElement(ct,{clipIndex:n,setClip:a,setFullVideo:o,video:l,videoIndex:c})))))))}),Vt=Object(F.f)("clipIndex","setClipIndex",-1),Rt=Object(F.f)("videoIndex","setVideoIndex",0),Mt=function(e,t){var n=t.clipIndex,a=t.setClipIndex,i=t.videoIndex;return function(t){var r=parseInt(t.currentTarget.getAttribute("clipindex"));a(isNaN(r)?-1:r),n!==r&&e(Pe(i))}},_t=Object(F.b)(Rt,Vt,Object(F.d)({setClip:Mt,setFullVideo:function(e){var t=e.setClipIndex;return function(){return t&&t(-1)}}}),Object(l.b)(function(e,t){return{video:it(e,t)}},function(e,t){return{setClip:Mt(e,t)}}))(Lt),Bt=function(){return i.a.createElement(a.Fragment,null,i.a.createElement(P.a,null),i.a.createElement(_t,null))};n(333);n.d(t,"store",function(){return Ut});var Ut=Object(c.configureStore)({devTools:!0,reducer:T});o.a.render(i.a.createElement(l.a,{store:Ut},i.a.createElement(Bt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[151,2,1]]]);
//# sourceMappingURL=main.cb56c6a2.chunk.js.map