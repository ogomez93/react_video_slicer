(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e){e.exports={nameFilter:"",tagFilter:""}},131:function(e,n,t){e.exports=t(301)},297:function(e,n,t){},301:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),r=t(20),o=t.n(r),c=t(21),l=t(129);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d,s,u=t(55),m=t(24),p=t(130),v=t(19),g=[{loading:!0,duration:0,videoUrl:"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4",clips:[]}],f=function(e,n){return e[n]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,n=arguments.length>1?arguments[1]:void 0,t=n.payload;switch(n.type){case"videos/ADD_CLIP":return s=f(e,t.videoIndex),d=s.clips,Object.assign([],e,Object(m.a)({},t.videoIndex,Object(v.a)({},s,{clips:Object(p.a)(d).concat([t.clip])})));case"videos/EDIT_CLIP":return s=f(e,t.videoIndex),d=s.clips,Object.assign([],e,Object(m.a)({},t.videoIndex,Object(v.a)({},s,{clips:Object.assign([],d,Object(m.a)({},t.clipIndex,t.clip))})));case"videos/REMOVE_CLIP":return s=f(e,t.videoIndex),d=s.clips,Object.assign([],e,Object(m.a)({},t.videoIndex,Object(v.a)({},s,{clips:d.slice(0,t.clipIndex).concat(d.slice(t.clipIndex+1))})));case"videos/SET_DURATION":return s=f(e,t.videoIndex),Object.assign([],e,Object(m.a)({},t.videoIndex,Object(v.a)({},s,{duration:t.duration,loading:!1})));default:return Object(v.a)({},e)}},E=t(120),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"filters/SET_NAME_FILTER":return Object(v.a)({},e,{filters:Object(v.a)({},e.filters,{nameFilter:n.payload.nameFilter})});case"filters/SET_TAG_FILTER":return Object(v.a)({},e,{filters:Object(v.a)({},e.filters,{tagFilter:n.payload.tagFilter})});default:return e}},I=Object(u.b)({filters:x,videos:b}),j=t(128),O=t.n(j),C=t(5),h=t(18),y=t(15),N=t.n(y),w=t(44),D=t.n(w),F=t(58),S=t.n(F),A=t(126),T=t.n(A),k=t(61),P=t.n(k),M=t(80),L=t.n(M),_=t(45),V=t.n(_),B=t(59),R=t.n(B),U=t(60),W=t.n(U),G=t(84),J=t.n(G),$=t(125),q=t.n($),z=t(83),H=t.n(z),K=t(27),Q=t.n(K),X=t(124),Y=t.n(X),Z=t(23),ee=t.n(Z),ne=t(123),te=t.n(ne),ae=t(57),ie=t.n(ae),re=t(122),oe=t.n(re),ce=t(56),le=t.n(ce),de=function(e){var n=e.dialogDescription,t=e.dialogTitle,r=e.end,o=e.name,c=e.start,l=e.onClose,d=e.deleteItem;return i.a.createElement(a.Fragment,null,i.a.createElement(le.a,{id:t},"Are you sure you want to delete this clip?"),i.a.createElement(ie.a,null,i.a.createElement(oe.a,{id:n},"Name: '".concat(o,"', from ").concat(c," to ").concat(r))),i.a.createElement(te.a,null,i.a.createElement(ee.a,{onClick:l,color:"primary"},"Cancel"),i.a.createElement(ee.a,{onClick:d,color:"secondary"},"Delete")))},se=t(37),ue=t.n(se),me=Object(h.withStyles)(function(e){return{button:{margin:e.spacing.unit},container:Object(v.a)({},e.mixins.gutters(),{width:"100%",display:"flex",alignItems:"center",backgroundColor:"red",padding:2*e.spacing.unit}),textField:{width:"100%",margin:0,marginBottom:e.spacing.unit}}})(function(e){var n=e.classes,t=e.name,a=e.start,r=e.video.duration,o=e.end,c=e.clipIndex,l=void 0===c?"":c,d=e.videoIndex,s=void 0===d?"":d,u=e.onEndChange,m=e.onNameChange,p=e.onStartChange,v=e.onCancel,g=e.onSubmit;return i.a.createElement("form",{onSubmit:g,clipindex:l,videoindex:s},i.a.createElement(N.a,{container:!0,spacing:16},i.a.createElement(N.a,{item:!0,xs:12},i.a.createElement(ue.a,{id:"clipName",label:"Clip name",className:n.textField,value:t,onChange:m,margin:"normal"})),i.a.createElement(N.a,{item:!0,xs:12},i.a.createElement(N.a,{alignItems:"center",container:!0,justify:"space-between"},i.a.createElement(N.a,{item:!0,xs:12,sm:6},i.a.createElement(ue.a,{id:"clipStart",className:n.textField,label:"From",margin:"normal",InputProps:{inputProps:{min:0,max:o}},value:a||0,type:"number",onChange:p})),i.a.createElement(N.a,{item:!0,xs:12,sm:6},i.a.createElement(ue.a,{id:"clipEnd",className:n.textField,label:"To",margin:"normal",InputProps:{inputProps:{min:a,max:r}},value:o,type:"number",onChange:u})))),i.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},i.a.createElement(ee.a,{className:n.button,onClick:v},"Cancel"),i.a.createElement(ee.a,{className:n.button,color:"primary",type:"submit",onClick:g},"Save"))))}),pe=function(e){return function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).target,t=(n=void 0===n?{}:n).value;return e(void 0===t?0:t)}},ve=Object(C.f)("end","setEnd",function(e){var n=e.end,t=e.video.duration;return n||parseFloat(t)}),ge=Object(C.f)("name","setName",function(e){var n=e.name;return void 0===n?"":n}),fe=Object(C.f)("start","setStart",function(e){var n=e.start;return void 0===n?0:n}),be=Object(C.b)(ve,ge,fe,Object(C.d)({onEndChange:function(e){var n=e.setEnd;return pe(n)},onNameChange:function(e){var n,t=e.setName;return n=t,function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).target,t=(e=void 0===e?{}:e).value;return n(void 0===t?"":t)}},onStartChange:function(e){var n=e.setStart;return pe(n)}}),Object(c.b)(null,function(e,n){return{onSubmit:function(e,n){var t=n.end,a=n.name,i=n.start,r=n.video.duration,o=n.videoIndex,c=n.clipIndex,l=n.onCancel;return function(n){n.preventDefault();var d={end:parseFloat(t),name:a,start:parseFloat(i)},s=function(e,n){var t=e.name,a=e.start,i=e.end,r=[];return function(e){return""!==e}(t)||r.push("Name must not be empty."),function(e,n,t){return e<n&&e<t&&n<=t}(a,i,n)||r.push("Invalid time range."),r}(d,parseFloat(r));0===s.length?(e(isNaN(c)?function(e,n){return{type:"videos/ADD_CLIP",payload:{clip:e,videoIndex:n}}}(d,o):function(e,n,t){return{type:"videos/EDIT_CLIP",payload:{clip:e,clipIndex:n,videoIndex:t}}}(d,c,o)),l&&l()):console.log(s)}}(e,n)}}))(me),Ee=function(e){var n=e.dialogTitle,t=e.end,r=e.name,o=e.start,c=e.clipIndex,l=e.videoIndex,d=e.video,s=e.onCancel;return i.a.createElement(a.Fragment,null,i.a.createElement(le.a,{id:n},"Editing clip"),i.a.createElement(ie.a,null,i.a.createElement(be,{end:t,name:r,start:o,video:d,clipIndex:c,videoIndex:l,onCancel:s})))},xe=Object(C.b)(Object(C.d)({onCancel:function(e){var n=e.closeEditing,t=e.closeMenu;return function(){n&&n(),t&&t()}}}))(Ee),Ie=function(e){var n=e.name,t=e.start,r=e.end,o=e.video,c=e.clipIndex,l=e.videoIndex,d=e.selected,s=e.setClip,u=e.deleting,m=e.editing,p=e.anchorEl,v=e.openMenu,g=e.closeMenu,f=e.deleteItem,b=e.openEditing,E=e.closeEditing,x=e.openDeleting,I=e.closeDeleting;return i.a.createElement(a.Fragment,null,i.a.createElement(S.a,{component:"li"}),i.a.createElement(V.a,{button:!0,component:"a",selected:d},i.a.createElement(R.a,{primary:n,secondary:"".concat(t," - ").concat(r),onClick:s,clipindex:c}),i.a.createElement(W.a,null,i.a.createElement(P.a,{"aria-label":"More","aria-owns":p?"clipMenu":void 0,"aria-haspopup":"true",onClick:v},i.a.createElement(Y.a,null))),i.a.createElement(q.a,{id:"clipMenu",anchorEl:p,open:Boolean(p),onClose:g},i.a.createElement(H.a,{onClick:b},"Edit"),i.a.createElement(H.a,{onClick:x,color:"secondary"},i.a.createElement(Q.a,{color:"secondary"},"Delete"))),i.a.createElement(J.a,{open:u,onClose:I,"aria-labelledby":"deleteClipDialog","aria-describedby":"deleteClipDialogDescription"},i.a.createElement(de,{dialogTitle:"deleteClipDialog",dialogDescription:"deleteClipDialogDescription",end:r,name:n,start:t,onClose:I,deleteItem:f})),i.a.createElement(J.a,{open:m,onClose:E,"aria-labelledby":"editClipDialog"},i.a.createElement(xe,{dialogTitle:"editClipDialog",end:r,name:n,start:t,video:o,clipIndex:c,videoIndex:l,closeEditing:E,closeMenu:g}))))},je=Object(C.f)("anchorEl","setAnchorEl",!1),Oe=Object(C.f)("editing","setEditing",!1),Ce=Object(C.f)("deleting","setDeleting",!1),he=Object(C.b)(je,Ce,Oe,Object(C.d)({closeMenu:function(e){var n=e.setAnchorEl;return function(){return n(null)}},openMenu:function(e){var n=e.setAnchorEl;return function(e){return n(e.currentTarget)}},openEditing:function(e){var n=e.setEditing;return function(){return n(!0)}},closeEditing:function(e){var n=e.setEditing;return function(){return n(!1)}},openDeleting:function(e){var n=e.setDeleting;return function(){return n(!0)}},closeDeleting:function(e){var n=e.setDeleting;return function(){return n(!1)}}}),Object(c.b)(null,function(e,n){return{deleteItem:function(){var t=n.closeMenu,a=n.closeDeleting,i=n.clipIndex,r=n.setFullVideo,o=n.videoIndex;e(function(e,n){return{type:"videos/REMOVE_CLIP",payload:{clipIndex:e,videoIndex:n}}}(i,o)),a&&a(),t&&t(),r&&r()}}}))(Ie),ye=Object(h.withStyles)(function(){return{list:{overflow:"auto"}}})(function(e){var n=e.classes,t=e.clipIndex,a=e.setClip,r=e.setFullVideo,o=e.video,c=o.clips,l=void 0===c?[]:c,d=o.videoUrl,s=o.duration,u=e.videoIndex;return i.a.createElement(L.a,{className:n.list},i.a.createElement(V.a,{selected:-1===t,button:!0,component:"a"},i.a.createElement(R.a,{primary:"Full video (".concat(s," seconds)"),secondary:d,secondaryTypographyProps:{noWrap:!0,title:d},clipindex:-1,onClick:a}),i.a.createElement(W.a,null,i.a.createElement(P.a,{"aria-label":"Delete"},i.a.createElement(T.a,null)))),l.map(function(e,n){return i.a.createElement(he,Object.assign({},e,{key:"clip-".concat(n),clipIndex:n,selected:t===n,setClip:a,setFullVideo:r,video:{duration:s,videoUrl:d},videoIndex:u}))}))}),Ne=Object(h.withStyles)(function(e){return{loadingVideo:{margin:4*e.spacing.unit}}})(function(e){var n=e.classes;return i.a.createElement(Q.a,{className:n.loadingVideo,variant:"subtitle2"},"Please wait...")}),we=Object(C.b)(Object(C.a)(function(e){return e.video.loading},Object(C.c)(Ne)))(ye),De=function(e){var n=e.video,t=n.playing,a=void 0!==t&&t,r=n.loading,o=e.setFullVideo;return i.a.createElement(ee.a,{color:"primary",disabled:r,onClick:o,variant:"contained"},a?"Pause":"Play full video")},Fe=t(127),Se=t.n(Fe),Ae=Object(h.withStyles)(function(e){return{rightIcon:{marginLeft:e.spacing.unit},hidden:{opacity:0}}})(function(e){var n=e.classes,t=e.video.loading,a=e.setAdding;return i.a.createElement(ee.a,{className:t?n.hidden:"",color:"primary",disabled:t,onClick:a,variant:"contained"},"ADD NEW CLIP",i.a.createElement(Se.a,{className:n.rightIcon}))}),Te=Object(C.b)(Object(C.d)({onCancel:function(e){var n=e.setNotAdding;return function(){return n()}}}))(be),ke=Object(C.f)("isAdding","setIsAdding",!1),Pe=Object(C.b)(ke,Object(C.d)({setAdding:function(e){var n=e.setIsAdding;return function(){return n(!0)}},setNotAdding:function(e){var n=e.setIsAdding;return function(){return n(!1)}}}),Object(C.a)(function(e){return e.isAdding},Object(C.c)(Te)))(Ae),Me=Object(h.withStyles)(function(){return{container:{width:"100%",display:"flex",alignItems:"center"},textField:{width:"100%",margin:0}}})(function(e){var n=e.classes,t=e.name,a=e.onNameChange,r=e.onSubmit;return i.a.createElement("form",{className:n.container,autoComplete:"off",onSubmit:r},i.a.createElement(ue.a,{id:"searchBar",label:"Search clips by name",className:n.textField,value:t,onChange:a,margin:"normal"}))}),Le=Object(C.f)("name","setName",""),_e=Object(C.b)(Le,Object(C.d)({onNameChange:function(e){var n=e.setName;return function(e){var t=e.target,a=(t=void 0===t?{}:t).value;return n(void 0===a?"":a)}}}),Object(c.b)(null,function(e,n){var t=n.name;return{onSubmit:function(n){n.preventDefault(),e({type:"filters/SET_NAME_FILTER",payload:{nameFilter:t}})}}}))(Me),Ve=function(e){var n=e.video.videoUrl,t=void 0===n?"":n;return i.a.createElement(Q.a,{variant:"caption",gutterBottom:!0,noWrap:!0},t)},Be=Object(h.withStyles)(function(){return{videoPlayer:{width:"100%"}}})(function(e){var n=e.classes,t=e.url,a=e.onLoadedMetadata;return i.a.createElement("video",{autoPlay:!0,className:n.videoPlayer,controls:!0,name:"media",onLoadedMetadata:a,preload:"metadata",src:t})}),Re=Object(C.e)(function(e){var n=e.video.videoUrl,t=e.clip,a=void 0===t?{}:t;return{url:0===Object.keys(a).length?n:"".concat(n,"#t=").concat(a.start,",").concat(a.end)}}),Ue=Object(C.b)(Object(c.b)(function(e,n){return{clip:function(e,n){var t=e.videos,a=void 0===t?[{}]:t,i=n.videoIndex,r=void 0===i?0:i,o=n.clipIndex,c=void 0===o?-1:o;return a[r].clips[c]}(e,n)}},function(e,n){var t=n.videoIndex;return{onLoadedMetadata:function(n){return e(function(e,n){return{type:"videos/SET_DURATION",payload:{duration:e,videoIndex:n}}}(n.target.duration,t))}}}),Re)(Be),We=Object(h.withStyles)(function(e){return{root:Object(v.a)({flexGrow:1},e.mixins.gutters(),{height:"100vh",padding:2*e.spacing.unit}),container:{height:"100%"},paper:{padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.primary},listPaper:{padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.primary,height:"100%",display:"flex",flexDirection:"column"},clipsList:{flex:1},sectionDivider:{marginBottom:2*e.spacing.unit,marginTop:2*e.spacing.unit},columnContainer:Object(m.a)({flexDirection:"column"},e.breakpoints.up("md"),{height:"100%"}),newClipContainer:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"center"},e.breakpoints.down("sm"),{flexBasis:"100%",marginTop:2*e.spacing.unit})}})(function(e){var n=e.classes,t=e.clipIndex,a=e.setClip,r=e.setFullVideo,o=e.video,c=e.videoIndex;return i.a.createElement("div",{className:n.root},i.a.createElement(N.a,{className:n.container,container:!0,spacing:24},i.a.createElement(N.a,{item:!0,xs:12,md:6,className:n.columnContainer},i.a.createElement(N.a,{container:!0,className:n.columnContainer},i.a.createElement(N.a,{item:!0},i.a.createElement(D.a,{className:n.paper},i.a.createElement(Ue,{video:o,videoIndex:c,clipIndex:t}),i.a.createElement(Ve,{video:o,clipIndex:t}))),i.a.createElement(N.a,{item:!0,xs:!0,className:n.newClipContainer},i.a.createElement(Pe,{video:o,videoIndex:c})))),i.a.createElement(N.a,{item:!0,xs:12,md:6},i.a.createElement(N.a,{container:!0,className:n.columnContainer},i.a.createElement(D.a,{className:n.listPaper},i.a.createElement(N.a,{container:!0,spacing:24,alignItems:"center"},i.a.createElement(N.a,{item:!0,xs:12,md:6},i.a.createElement(_e,null)),i.a.createElement(N.a,{item:!0,xs:12,md:6},i.a.createElement(De,{video:o,setFullVideo:r}))),i.a.createElement(S.a,{className:n.sectionDivider}),i.a.createElement(N.a,{alignItems:"stretch",className:n.clipsList,container:!0,direction:"column",justify:"flex-start",spacing:24},i.a.createElement(we,{clipIndex:t,setClip:a,setFullVideo:r,video:o,videoIndex:c})))))))}),Ge=Object(C.f)("clipIndex","setClipIndex",-1),Je=Object(C.f)("videoIndex","setVideoIndex",0),$e=Object(C.b)(Je,Ge,Object(C.d)({setClip:function(e){var n=e.setClipIndex;return function(e){var t=parseInt(e.currentTarget.getAttribute("clipindex"));n(isNaN(t)?-1:t)}},setFullVideo:function(e){var n=e.setClipIndex;return function(){return n&&n(-1)}}}),Object(c.b)(function(e,n){return{video:function(e,n){var t=e.videos,a=void 0===t?[{}]:t,i=n.videoIndex;return a[void 0===i?0:i]}(e,n)}}))(We),qe=function(){return i.a.createElement(a.Fragment,null,i.a.createElement(O.a,null),i.a.createElement($e,null))};t(297);t.d(n,"store",function(){return ze});var ze=Object(l.configureStore)({devTools:!0,reducer:I});o.a.render(i.a.createElement(c.a,{store:ze},i.a.createElement(qe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[131,2,1]]]);
//# sourceMappingURL=main.520ff656.chunk.js.map