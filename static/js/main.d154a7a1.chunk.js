(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e){e.exports={nameFilter:"",tagFilter:""}},138:function(e,n,t){e.exports=t(309)},305:function(e,n,t){},309:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),r=t(22),o=t.n(r),c=t(20),l=t(134);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d,s,u=t(56),m=t(21),p=t(135),v=t(17),f=[{duration:0,clips:[],loading:!0,paused:!0,videoUrl:"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4"}],g=function(e,n){return e[n]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments.length>1?arguments[1]:void 0,t=n.payload;switch(n.type){case"videos/ADD_CLIP":return s=g(e,t.videoIndex),d=s.clips,Object.assign([],e,Object(m.a)({},t.videoIndex,Object(v.a)({},s,{clips:Object(p.a)(d).concat([t.clip])})));case"videos/EDIT_CLIP":return s=g(e,t.videoIndex),d=s.clips,Object.assign([],e,Object(m.a)({},t.videoIndex,Object(v.a)({},s,{clips:Object.assign([],d,Object(m.a)({},t.clipIndex,t.clip))})));case"videos/REMOVE_CLIP":return s=g(e,t.videoIndex),d=s.clips,Object.assign([],e,Object(m.a)({},t.videoIndex,Object(v.a)({},s,{clips:d.slice(0,t.clipIndex).concat(d.slice(t.clipIndex+1))})));case"videos/SET_DURATION":return s=g(e,t.videoIndex),Object.assign([],e,Object(m.a)({},t.videoIndex,Object(v.a)({},s,{duration:t.duration,loading:!1})));case"videos/CLIP_CHANGE":return s=g(e,t.videoIndex),Object.assign([],e,Object(m.a)({},t.videoIndex,Object(v.a)({},s,{loading:!0,paused:!0})));case"videos/PAUSE_VIDEO":return s=g(e,t.videoIndex),Object.assign([],e,Object(m.a)({},t.videoIndex,Object(v.a)({},s,{paused:!0})));case"videos/PLAY_VIDEO":return s=g(e,t.videoIndex),Object.assign([],e,Object(m.a)({},t.videoIndex,Object(v.a)({},s,{paused:!1})));default:return Object(v.a)({},e)}},E=t(120),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"filters/SET_NAME_FILTER":return Object(v.a)({},e,{filters:Object(v.a)({},e.filters,{nameFilter:n.payload.nameFilter})});case"filters/SET_TAG_FILTER":return Object(v.a)({},e,{filters:Object(v.a)({},e.filters,{tagFilter:n.payload.tagFilter})});default:return e}},x=Object(u.b)({filters:I,videos:b}),O=t(133),j=t.n(O),C=t(4),y=t(19),h=t(15),N=t.n(h),D=t(45),w=t.n(D),P=t(60),F=t.n(P),A=t(80),S=t.n(A),k=t(46),T=t.n(k),_=t(61),L=t.n(_),V=t(62),M=t.n(V),R=t(84),U=t.n(R),B=t(59),W=t.n(B),G=t(126),H=t.n(G),J=t(128),Y=t.n(J),$=t(83),q=t.n($),z=t(27),K=t.n(z),Q=t(127),X=t.n(Q),Z=t(24),ee=t.n(Z),ne=t(123),te=t.n(ne),ae=t(58),ie=t.n(ae),re=t(122),oe=t.n(re),ce=t(57),le=t.n(ce),de=function(e){var n=e.dialogDescription,t=e.dialogTitle,r=e.end,o=e.name,c=e.start,l=e.onClose,d=e.deleteItem;return i.a.createElement(a.Fragment,null,i.a.createElement(le.a,{id:t},"Are you sure you want to delete this clip?"),i.a.createElement(ie.a,null,i.a.createElement(oe.a,{id:n},"Name: '".concat(o,"', from ").concat(c," to ").concat(r))),i.a.createElement(te.a,null,i.a.createElement(ee.a,{onClick:l,color:"primary"},"Cancel"),i.a.createElement(ee.a,{onClick:d,color:"secondary"},"Delete")))},se=t(37),ue=t.n(se),me=Object(y.withStyles)(function(e){return{button:{margin:e.spacing.unit},container:Object(v.a)({},e.mixins.gutters(),{width:"100%",display:"flex",alignItems:"center",backgroundColor:"red",padding:2*e.spacing.unit}),textField:{width:"100%",margin:0,marginBottom:e.spacing.unit}}})(function(e){var n=e.classes,t=e.name,a=e.start,r=e.video.duration,o=e.end,c=e.clipIndex,l=void 0===c?"":c,d=e.videoIndex,s=void 0===d?"":d,u=e.onEndChange,m=e.onNameChange,p=e.onStartChange,v=e.onCancel,f=e.onSubmit;return i.a.createElement("form",{onSubmit:f,clipindex:l,videoindex:s},i.a.createElement(N.a,{container:!0,spacing:16},i.a.createElement(N.a,{item:!0,xs:12},i.a.createElement(ue.a,{id:"clipName",label:"Clip name",className:n.textField,value:t,onChange:m,margin:"normal"})),i.a.createElement(N.a,{item:!0,xs:12},i.a.createElement(N.a,{alignItems:"center",container:!0,justify:"space-between"},i.a.createElement(N.a,{item:!0,xs:12,sm:6},i.a.createElement(ue.a,{id:"clipStart",className:n.textField,label:"From",margin:"normal",InputProps:{inputProps:{min:0,max:o}},value:a||0,type:"number",onChange:p})),i.a.createElement(N.a,{item:!0,xs:12,sm:6},i.a.createElement(ue.a,{id:"clipEnd",className:n.textField,label:"To",margin:"normal",InputProps:{inputProps:{min:a,max:r}},value:o,type:"number",onChange:u})))),i.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},i.a.createElement(ee.a,{className:n.button,onClick:v},"Cancel"),i.a.createElement(ee.a,{className:n.button,color:"primary",type:"submit",onClick:f},"Save"))))}),pe=function(e){return{type:"videos/PAUSE_VIDEO",payload:{videoIndex:e}}},ve=function(e){return{type:"videos/PLAY_VIDEO",payload:{videoIndex:e}}},fe=function(e){return function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).target,t=(n=void 0===n?{}:n).value;return e(void 0===t?0:t)}},ge=Object(C.f)("end","setEnd",function(e){var n=e.end,t=e.video.duration;return n||parseFloat(t)}),be=Object(C.f)("name","setName",function(e){var n=e.name;return void 0===n?"":n}),Ee=Object(C.f)("start","setStart",function(e){var n=e.start;return void 0===n?0:n}),Ie=Object(C.b)(ge,be,Ee,Object(C.d)({onEndChange:function(e){var n=e.setEnd;return fe(n)},onNameChange:function(e){var n,t=e.setName;return n=t,function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).target,t=(e=void 0===e?{}:e).value;return n(void 0===t?"":t)}},onStartChange:function(e){var n=e.setStart;return fe(n)}}),Object(c.b)(null,function(e,n){return{onSubmit:function(e,n){var t=n.end,a=n.name,i=n.start,r=n.video.duration,o=n.videoIndex,c=n.clipIndex,l=n.onCancel;return function(n){n.preventDefault();var d={end:parseFloat(t),name:a,start:parseFloat(i)},s=function(e,n){var t=e.name,a=e.start,i=e.end,r=[];return function(e){return""!==e}(t)||r.push("Name must not be empty."),function(e,n,t){return e<n&&e<t&&n<=t}(a,i,n)||r.push("Invalid time range."),r}(d,parseFloat(r));0===s.length?(e(isNaN(c)?function(e,n){return{type:"videos/ADD_CLIP",payload:{clip:e,videoIndex:n}}}(d,o):function(e,n,t){return{type:"videos/EDIT_CLIP",payload:{clip:e,clipIndex:n,videoIndex:t}}}(d,c,o)),l&&l()):console.log(s)}}(e,n)}}))(me),xe=function(e){var n=e.dialogTitle,t=e.end,r=e.name,o=e.start,c=e.clipIndex,l=e.videoIndex,d=e.video,s=e.onCancel;return i.a.createElement(a.Fragment,null,i.a.createElement(le.a,{id:n},"Editing clip"),i.a.createElement(ie.a,null,i.a.createElement(Ie,{end:t,name:r,start:o,video:d,clipIndex:c,videoIndex:l,onCancel:s})))},Oe=Object(C.b)(Object(C.d)({onCancel:function(e){var n=e.closeEditing,t=e.closeMenu;return function(){n&&n(),t&&t()}}}))(xe),je=t(124),Ce=t.n(je),ye=function(e){var n=e.clipIndex,t=e.Icon,a=e.label,r=e.onClick;return i.a.createElement(W.a,{"aria-label":a,clipindex:n,onClick:r},i.a.createElement(t,null))},he=Object(C.b)(Object(C.e)({label:"Pause",Icon:Ce.a}),Object(c.b)(null,function(e,n){return{onClick:function(e,n){var t=n.videoIndex;return function(){return e(pe(t))}}(e,n)}}))(ye),Ne=t(125),De=t.n(Ne),we=Object(C.b)(Object(C.e)({label:"Play",Icon:De.a}),Object(c.b)(null,function(e,n){return{onClick:n.selected?function(e,n){var t=n.videoIndex;return function(){return e(ve(t))}}(e,n):n.setClip}}))(ye),Pe=function(e){var n=e.name,t=e.start,r=e.end,o=e.video,c=e.clipIndex,l=e.videoIndex,d=e.selected,s=e.setClip,u=e.deleting,m=e.editing,p=e.anchorEl,v=e.openMenu,f=e.closeMenu,g=e.deleteItem,b=e.openEditing,E=e.closeEditing,I=e.openDeleting,x=e.closeDeleting;return i.a.createElement(a.Fragment,null,i.a.createElement(F.a,{component:"li"}),i.a.createElement(T.a,{title:"Play ".concat(n),button:!0,component:"a",selected:d},i.a.createElement(H.a,null,d&&!o.paused?i.a.createElement(he,{clipIndex:c,selected:d,setClip:s,videoIndex:l}):i.a.createElement(we,{clipIndex:c,selected:d,setClip:s,videoIndex:l})),i.a.createElement(L.a,{primary:n,secondary:"".concat(t," - ").concat(r),onClick:s,clipindex:c}),i.a.createElement(M.a,{title:"".concat(n," options")},i.a.createElement(W.a,{"aria-label":"More","aria-owns":p?"clipMenu":void 0,"aria-haspopup":"true",onClick:v},i.a.createElement(X.a,null))),i.a.createElement(Y.a,{id:"clipMenu",anchorEl:p,open:Boolean(p),onClose:f},i.a.createElement(q.a,{onClick:b},"Edit"),i.a.createElement(q.a,{onClick:I,color:"secondary"},i.a.createElement(K.a,{color:"secondary"},"Delete"))),i.a.createElement(U.a,{open:u,onClose:x,"aria-labelledby":"deleteClipDialog","aria-describedby":"deleteClipDialogDescription"},i.a.createElement(de,{dialogTitle:"deleteClipDialog",dialogDescription:"deleteClipDialogDescription",end:r,name:n,start:t,onClose:x,deleteItem:g})),i.a.createElement(U.a,{open:m,onClose:E,"aria-labelledby":"editClipDialog"},i.a.createElement(Oe,{dialogTitle:"editClipDialog",end:r,name:n,start:t,video:o,clipIndex:c,videoIndex:l,closeEditing:E,closeMenu:f}))))},Fe=Object(C.f)("anchorEl","setAnchorEl",!1),Ae=Object(C.f)("editing","setEditing",!1),Se=Object(C.f)("deleting","setDeleting",!1),ke=Object(C.b)(Fe,Se,Ae,Object(C.d)({closeMenu:function(e){var n=e.setAnchorEl;return function(){return n(null)}},openMenu:function(e){var n=e.setAnchorEl;return function(e){return n(e.currentTarget)}},openEditing:function(e){var n=e.setEditing;return function(){return n(!0)}},closeEditing:function(e){var n=e.setEditing;return function(){return n(!1)}},openDeleting:function(e){var n=e.setDeleting;return function(){return n(!0)}},closeDeleting:function(e){var n=e.setDeleting;return function(){return n(!1)}}}),Object(c.b)(null,function(e,n){return{deleteItem:function(){var t=n.closeMenu,a=n.closeDeleting,i=n.clipIndex,r=n.setFullVideo,o=n.videoIndex;e(function(e,n){return{type:"videos/REMOVE_CLIP",payload:{clipIndex:e,videoIndex:n}}}(i,o)),a&&a(),t&&t(),r&&r()}}}))(Pe),Te=Object(y.withStyles)(function(){return{list:{overflow:"auto"}}})(function(e){var n=e.classes,t=e.clipIndex,a=e.setClip,r=e.setFullVideo,o=e.video,c=o.clips,l=void 0===c?[]:c,d=o.videoUrl,s=o.duration,u=o.paused,m=e.videoIndex;return i.a.createElement(S.a,{className:n.list},i.a.createElement(T.a,{title:"Play full video",selected:-1===t,button:!0,component:"a"},i.a.createElement(L.a,{primary:"Full video (duration: ".concat(s," seconds)"),secondary:d,secondaryTypographyProps:{noWrap:!0,title:d},clipindex:-1,onClick:a}),i.a.createElement(M.a,null,-1!==t||u?i.a.createElement(we,{clipIndex:-1,selected:-1===t,setClip:a,videoIndex:m}):i.a.createElement(he,{clipIndex:-1,selected:-1===t,setClip:a,videoIndex:m}))),l.map(function(e,n){return i.a.createElement(ke,Object.assign({},e,{key:"clip-".concat(n),clipIndex:n,selected:t===n,setClip:a,setFullVideo:r,video:{duration:s,paused:u,videoUrl:d},videoIndex:m}))}))}),_e=Object(y.withStyles)(function(e){return{loadingVideo:{margin:4*e.spacing.unit}}})(function(e){var n=e.classes;return i.a.createElement(K.a,{className:n.loadingVideo,variant:"subtitle2"},"Please wait...")}),Le=Object(C.b)(Object(C.a)(function(e){var n=e.video,t=n.duration,a=n.loading;return 0===t&&a},Object(C.c)(_e)))(Te),Ve=t(129),Me=t.n(Ve),Re=Object(y.withStyles)(function(e){return{rightIcon:{marginLeft:e.spacing.unit},hidden:{opacity:0}}})(function(e){var n=e.classes,t=e.video.loading,a=e.setAdding;return i.a.createElement(ee.a,{className:t?n.hidden:"",color:"primary",disabled:t,onClick:a,variant:"contained"},"ADD NEW CLIP",i.a.createElement(Me.a,{className:n.rightIcon}))}),Ue=Object(C.b)(Object(C.d)({onCancel:function(e){var n=e.setNotAdding;return function(){return n()}}}))(Ie),Be=Object(C.f)("isAdding","setIsAdding",!1),We=Object(C.b)(Be,Object(C.d)({setAdding:function(e){var n=e.setIsAdding;return function(){return n(!0)}},setNotAdding:function(e){var n=e.setIsAdding;return function(){return n(!1)}}}),Object(C.a)(function(e){return e.isAdding},Object(C.c)(Ue)))(Re),Ge=Object(y.withStyles)(function(){return{container:{width:"100%",display:"flex",alignItems:"center"},textField:{width:"100%",margin:0}}})(function(e){var n=e.classes,t=e.name,a=e.onNameChange,r=e.onSubmit;return i.a.createElement("form",{className:n.container,autoComplete:"off",onSubmit:r},i.a.createElement(ue.a,{id:"searchBar",label:"Search clips by name",className:n.textField,value:t,onChange:a,margin:"normal"}))}),He=Object(C.f)("name","setName",""),Je=Object(C.b)(He,Object(C.d)({onNameChange:function(e){var n=e.setName;return function(e){var t=e.target,a=(t=void 0===t?{}:t).value;return n(void 0===a?"":a)}}}),Object(c.b)(null,function(e,n){var t=n.name;return{onSubmit:function(n){n.preventDefault(),e({type:"filters/SET_NAME_FILTER",payload:{nameFilter:t}})}}}))(Ge),Ye=function(e){var n=e.video.videoUrl,t=void 0===n?"":n;return i.a.createElement(K.a,{variant:"caption",gutterBottom:!0,noWrap:!0},t)},$e=t(130),qe=t(131),ze=t(136),Ke=t(132),Qe=t(137),Xe=function(e){function n(e){var t;return Object($e.a)(this,n),(t=Object(ze.a)(this,Object(Ke.a)(n).call(this,e))).playVideo=function(){return t.videoRef.current.play()},t.pauseVideo=function(){return t.videoRef.current.pause()},t.videoPaused=function(){return t.videoRef.current.paused},t.videoEnded=function(){return t.videoRef.current.ended},t.state={paused:e.video.paused},t.videoRef=Object(a.createRef)(),t}return Object(Qe.a)(n,e),Object(qe.a)(n,[{key:"componentDidUpdate",value:function(e){var n=this.videoPaused(),t=e.video.paused,a=this.props.video.paused;t!==a&&a!==n&&(n?this.playVideo():this.pauseVideo())}},{key:"render",value:function(){var e=this.props,n=e.classes,t=e.onLoadedMetadata,a=e.onPause,r=e.onPlay,o=e.url;return i.a.createElement("video",{ref:this.videoRef,className:n.videoPlayer,controls:!0,name:"media",onLoadedMetadata:t,onPause:a,onPlay:r,preload:"metadata",src:o})}}],[{key:"getDerivedStateFromProps",value:function(e,n){return e.video.paused!==n.paused?{paused:e.video.paused}:null}}]),n}(a.Component),Ze=Object(y.withStyles)(function(){return{videoPlayer:{width:"100%"}}})(Xe),en=Object(C.e)(function(e){var n=e.video.videoUrl,t=e.clip;return{url:t?"".concat(n,"#t=").concat(t.start,",").concat(t.end):n}}),nn=Object(C.b)(Object(c.b)(function(e,n){return{clip:function(e,n){var t=e.videos,a=void 0===t?[{}]:t,i=n.videoIndex,r=void 0===i?0:i,o=n.clipIndex,c=void 0===o?-1:o;return a[r].clips[c]}(e,n)}},function(e,n){var t=n.videoIndex;return{onLoadedMetadata:function(n){return e(function(e,n){return{type:"videos/SET_DURATION",payload:{duration:e,videoIndex:n}}}(n.target.duration,t))},onPause:function(){return e(pe(t))},onPlay:function(){return e(ve(t))}}}),en)(Ze),tn=Object(y.withStyles)(function(e){return{root:Object(v.a)({flexGrow:1},e.mixins.gutters(),{height:"100vh",padding:2*e.spacing.unit}),container:{height:"100%"},paper:{padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.primary},listPaper:{padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.primary,height:"100%",display:"flex",flexDirection:"column"},clipsList:{flex:1},sectionDivider:{marginBottom:2*e.spacing.unit,marginTop:2*e.spacing.unit},columnContainer:Object(m.a)({flexDirection:"column"},e.breakpoints.up("md"),{height:"100%"}),newClipContainer:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"center"},e.breakpoints.down("sm"),{flexBasis:"100%",marginTop:2*e.spacing.unit})}})(function(e){var n=e.classes,t=e.clipIndex,a=e.setClip,r=e.setFullVideo,o=e.video,c=e.videoIndex;return i.a.createElement("div",{className:n.root},i.a.createElement(N.a,{className:n.container,container:!0,spacing:24},i.a.createElement(N.a,{item:!0,xs:12,md:6,className:n.columnContainer},i.a.createElement(N.a,{container:!0,className:n.columnContainer},i.a.createElement(N.a,{item:!0},i.a.createElement(w.a,{className:n.paper},i.a.createElement(nn,{video:o,videoIndex:c,clipIndex:t}),i.a.createElement(Ye,{video:o,clipIndex:t}))),i.a.createElement(N.a,{item:!0,xs:!0,className:n.newClipContainer},i.a.createElement(We,{video:o,videoIndex:c})))),i.a.createElement(N.a,{item:!0,xs:12,md:6},i.a.createElement(N.a,{container:!0,className:n.columnContainer},i.a.createElement(w.a,{className:n.listPaper},i.a.createElement(N.a,{container:!0,spacing:24,alignItems:"center"},i.a.createElement(N.a,{item:!0,xs:12,md:6},i.a.createElement(Je,null)),i.a.createElement(N.a,{item:!0,xs:12,md:6})),i.a.createElement(F.a,{className:n.sectionDivider}),i.a.createElement(N.a,{alignItems:"stretch",className:n.clipsList,container:!0,direction:"column",justify:"flex-start",spacing:24},i.a.createElement(Le,{clipIndex:t,setClip:a,setFullVideo:r,video:o,videoIndex:c})))))))}),an=Object(C.f)("clipIndex","setClipIndex",-1),rn=Object(C.f)("videoIndex","setVideoIndex",0),on=function(e,n){var t=n.clipIndex,a=n.setClipIndex,i=n.videoIndex;return function(n){var r=parseInt(n.currentTarget.getAttribute("clipindex"));a(isNaN(r)?-1:r),t!==r&&e(function(e){return{type:"videos/CLIP_CHANGE",payload:{videoIndex:e}}}(i))}},cn=Object(C.b)(rn,an,Object(C.d)({setClip:on,setFullVideo:function(e){var n=e.setClipIndex;return function(){return n&&n(-1)}}}),Object(c.b)(function(e,n){return{video:function(e,n){var t=e.videos,a=void 0===t?[{}]:t,i=n.videoIndex;return a[void 0===i?0:i]}(e,n)}},function(e,n){return{setClip:on(e,n)}}))(tn),ln=function(){return i.a.createElement(a.Fragment,null,i.a.createElement(j.a,null),i.a.createElement(cn,null))};t(305);t.d(n,"store",function(){return dn});var dn=Object(l.configureStore)({devTools:!0,reducer:x});o.a.render(i.a.createElement(c.a,{store:dn},i.a.createElement(ln,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[138,2,1]]]);
//# sourceMappingURL=main.d154a7a1.chunk.js.map